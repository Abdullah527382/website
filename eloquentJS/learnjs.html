<!doctype html>
<html lang="en">
  <head>
    <!-- FAVICON: -->
    <link rel="icon" type="image/png" href="../pictures/favicon.png"/>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.1.1">
    <title>JS</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/navbar-fixed/">


    <!-- Bootstrap core CSS -->
    <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  	<link href="../js/prism.css" rel="stylesheet" />

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- Bootstrap CSS -->
    <!-- OLD style sheet: (from template)-->
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"> -->

  
    <!-- ALL bootstrap classes: https://www.w3schools.com/bootstrap/bootstrap_ref_all_classes.asp-->

    <!-- Custom styles for this template -->
    <!-- Custom styles for this template -->
    <link href="navbar-top-fixed.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../css/custom.css"> 
    <link rel="stylesheet" href="file:////home/abdullah/.vscode-server/extensions/shd101wyy.markdown-preview-enhanced-0.5.13/node_modules/@shd101wyy/mume/dependencies/katex/katex.min.css">
      
       
</head>
<body>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
  <a class="navbar-brand" href="../index.html">Home</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        <!-- Links to our pages-->
        <li class="nav-item active">
          <div class="btn-group">
            <a class="nav-link active" href="../eloquentJS/learnjs.html"> JavaScript</a>

            <button type="button" class="btn btn-dropdown dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="eloquentJS/learnjs.html">
              <span class="sr-only" >Toggle Dropdown</span>
            </button>
            <!-- When adding more chapters: Use this script to update: 
              sed -i 's/href="../eloquentJS/learnjs.html#chapter-3-functions"/href="..\/eloquentJS\/learnjs.html#chapter-3-functions"/g' ../*.html
            -->
            <div class="dropdown-menu">
              <a class="dropdown-item" href=#chapter-1-values-types-and-operators>Chapter 1</a>
              <a class="dropdown-item" href=#chapter-2-program-structure>Chapter 2</a>
              <a class="dropdown-item" href=#chapter-3-functions>Chapter 3</a>
              <a class="dropdown-item" href=#chapter-4-objects-and-arrays>Chapter 4</a>
              <a class="dropdown-item" href=#chapter-5-higher-order-functions>Chapter 5</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href=#chapter-6-the-secret-life-of-objects>Chapter 6</a>
              <a class="dropdown-item" href=#chapter-7-project-a-robot>Chapter 7</a>

            </div>
          </div>        
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../Algos/Algospage.html">Algos</a>
        </li>
        <li>
          <div class="btn-group">
            <a class="nav-link" href="../2511/2511page.html"> COMP2511</a>

            <button type="button" class="btn btn-dropdown dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" href="2511/2511page.html">
              <span class="sr-only" >Toggle Dropdown</span>
            </button>
            <div class="dropdown-menu">
              <a class="dropdown-item" href=#>Week 1</a>
              <a class="dropdown-item" href=#>Week 2</a>
              <a class="dropdown-item" href=#>Week 3</a>
              <a class="dropdown-item" href=#>Week 4</a>
              <a class="dropdown-item" href=#>Week 5</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href=../2511/tutorials/2511tutes.html>Tutorials</a>
              <a class="dropdown-item" href=../2511/labs/2511labs.html>Labs</a>
            </div>
          </div> 
        </li>
        <li>
          <div class="btn-group">
            <a class="nav-link" href="../3311/3311page.html"> COMP3311</a>
  
            <button type="button" class="btn btn-dropdown dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" href="2511/2511page.html">
              <span class="sr-only" >Toggle Dropdown</span>
            </button>
            <div class="dropdown-menu">
              <a class="dropdown-item" href=#>Week 1</a>
              <a class="dropdown-item" href=#>Week 2</a>
              <a class="dropdown-item" href=#>Week 3</a>
              <a class="dropdown-item" href=#>Week 4</a>
              <a class="dropdown-item" href=#>Week 5</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href=../3311/tutorials/3311tutes.html>Tutorials</a>
              <a class="dropdown-item" href=../3311/labs/3311labs.html>Labs</a>
            </div>
          </div> 
        </li>
        <li>
          <div class="btn-group">
            <a class="nav-link" href="../3331/3331page.html"> COMP3331</a>
  
            <button type="button" class="btn btn-dropdown dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" href="3331/3331page.html">
              <span class="sr-only" >Toggle Dropdown</span>
            </button>
            <div class="dropdown-menu">
              <a class="dropdown-item" href=#>Week 1</a>
              <a class="dropdown-item" href=#>Week 2</a>
              <a class="dropdown-item" href=#>Week 3</a>
              <a class="dropdown-item" href=#>Week 4</a>
              <a class="dropdown-item" href=#>Week 5</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href=../3331/tutorials/3331tutes.html>Tutorials</a>
              <a class="dropdown-item" href=../3331/labs/3331labs.html>Labs</a>
            </div>
          </div> 
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../project/project.html">Project</a>
        </li>

      </ul>
    </div>
    
</nav>
  <body>
      <!-- TYPOGRAPHY -->
    <div class="container">
        <h1  class="border-bottom">JavaScript Progress<small>  by Abdullah A </small></h1>
        <p class="lead">
        Below are displayed links to the chapters of the textbook 
        <i>"Eloquent JavaScript" <small>Written by Marijn Haverbeke</small>.</i> 

        <!-- Insert starter paragraph-->
         
        <!-- Following text-->

        <!-- BLOCKQUOTE -->
        <blockquote class="blockquote">
            <p>“You should imagine variables as tentacles, rather than boxes. 
              They do not contain values; they grasp them—two variables can refer to the 
              same value.”</p>
                <footer class="blockquote-footer"> Marijn Haverbeke <cite title="Source Title">Eloquent JavaScript: A Modern Introduction to Programming</cite></footer>
        </blockquote>
        <hr>

        <!-- START CHP1 -->
  </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h2 class="mume-header" id="chapter-1-values-types-and-operators">Chapter 1: Values, Types and operators</h2>
  
  <hr>
  <h4 class="mume-header" id="values">Values</h4>
  
  <p>Every value has a type that will determine its tole, some are numbers, others are pieces of text or even functions and so on.</p>
  <p>To create a value, you merely invoke its name, this is convenient in comparison to other languages such as <em>C</em> where we would have to delcare type as well. Using ALOT of values simultaneously can lead to running out of memory.</p>
  <p>This chapter introduces the atomic elements of <em>JavaScript</em> programs, that is, the simple value types and the operators that can act on such <strong>values</strong>.</p>
  <h4 class="mume-header" id="numbers">Numbers</h4>
  
  <p>JS uses a fixed number of bits (64 of them), there are only so many different patterns to make with 64 bits, meaning the numbers (being patterns) have limited amount of representations. With N decimal digits, you can represent<br>
  <img src="https://latex.codecogs.com/svg.latex?10%5EN" alt="equation"> ways, similarly given 64 binary digits, you&apos;d be able to represent 2^64 different numbers.</p>
  <p>Fractional numbers are written by using a dot</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token number">9.81</span>
  </pre><p>For very big numbers, you can use scientific notation</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token number">2.998e8</span>
  </pre><h4 class="mume-header" id="arithmetic">Arithmetic:</h4>
  
  <p>The main things to do with numbers is arithmetic, here is what they look like</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">11</span>
  </pre><p>This follows <em>bodmas</em> as expected unless you use braces around some numbers in the expression above</p>
  <p>There is one more arithmetic operator <em>%</em>, used to represent the remainder operation</p>
  <h4 class="mume-header" id="special-numbers">Special Numbers:</h4>
  
  <p>There are 3 <em>special numbers</em> in JS</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">infinity<span class="token punctuation">,</span> <span class="token operator">-</span>infinity<span class="token punctuation">,</span> <span class="token number">NaN</span>
  </pre><p>which are denoted as: infinity, negative infinity and <em>&quot;Not A Number&quot;</em>, the last of which you get as a result of dividing by <em>0</em>.</p>
  <h4 class="mume-header" id="strings">Strings:</h4>
  
  <p>Strings are used to represent text, written by enclosing their content in quotes</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token template-string"><span class="token string">`Down on the sea`</span></span>
  <span class="token string">&quot;Lie on the ocean&quot;</span>
  <span class="token string">&apos;Float on the ocean&apos;</span>
  </pre><p>We use the <em>escaping</em> character to denote that a character after &quot;\n&quot; has a special meaning. Newlines can be included without escaping only with backticks (`). When an <em>n</em> character occurs after a backlash, it is interpreted as a newline character, similarly <em>\t</em> means tab.</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token string">&quot;A newline character is written like \&quot;\\n\&quot;.&quot;</span>
  </pre><p>Strings too are modeled as bits, the way JS does this is based on the unicode standard which included every character from <em>Greek, Arabic</em> and so on. The complication is that JS&apos;s representation uses <strong>16 bits</strong> per string element which can describe up to 2^16 different characters, but unicode describes twice as many thus leading some characters in JS to take up 2 character positions.</p>
  <p>Strings in JS can be concatenated using the &quot;+&quot; operator shown below</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token string">&quot;con&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;cat&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;e&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;nate&quot;</span>
  </pre><pre data-role="codeBlock" data-info="shell" class="language-shell">concatenate
  </pre><p>String values have a number of associated functions called <em>methods</em> that can be used to perform other operations on them.</p>
  <p>Backtick-quoted strings usually called <em>template literals</em> can do a few more tricks. When you write something inside ${ } (template literal), the result will be computed, converted to a string and included at that position. E.g.</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token template-string"><span class="token string">`half of 100 is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">100</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
  </pre><pre data-role="codeBlock" data-info="shell" class="language-shell">half of 100 is 50
  </pre><h4 class="mume-header" id="unary-operators">Unary operators:</h4>
  
  <p>Non symbolised operators are written as words. For e.g. <em>typeof</em> produces string value for the type of value you gave it</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">4.5</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; number</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; string</span>
  </pre><p>Operators that take 1 value are called unary whilst those who take 2 are called binary operators.</p>
  <h4 class="mume-header" id="boolean-values">Boolean values:</h4>
  
  <p>JS has a <em>boolean</em> type which has two values, <em>true</em> and <em>false</em>. We can use comparisons to produce such boolean values:</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; false</span>
  </pre><p>Similarly this can be applied to strings, they are ordered roughly alphabetically, upper case letters are always <em>less</em> than lowercase ones i.e. &quot;Z&quot; &lt; &quot;a&quot; and nonalphabetic. Other comparison operators are &gt;=, &lt;=, == and !=. Examples below</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Aardvark&quot;</span> <span class="token operator">&lt;</span> <span class="token string">&quot;Zoroaster&quot;</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Itchy&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;Scratchy&quot;</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Apple&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;Orange&quot;</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; false</span>
  </pre><p>The only value <strong>not</strong> equal to itself is <em>NaN</em></p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; false</span>
  </pre><h4 class="mume-header" id="logical-operators">Logical operators:</h4>
  
  <p>These are operations applied to Boolean values themselves, JS supports: <em>and, or</em> and <em>not</em>. The &amp;&amp; operator results true if both values given are true. The || operator returns true if either of the given values are true. Examples below:</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; false</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">||</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; false</span>
  </pre><p><em>Not</em> is written as !, it flips the value given to it. When mixing these boolean operators with arithmetic and other operators, consider that || has the lowest precedence, then comes &amp;&amp;, then <em>&gt;, ==,</em> and so on.</p>
  <p>The last operator is <em>ternary</em> (operates on 3 values), written with a question mark and a colon shown below</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 2</span>
  </pre><p>It&apos;s often called the <em>conditional operator</em>. The value on the left of the question mark will determine which of the other 2 values will come out. If true, chooses middle, if false chooses the value on the right.</p>
  <h4 class="mume-header" id="empty-values">Empty values:</h4>
  
  <p>Two special values: <em>null</em> and <em>undefined</em> are used to denote the absence of a meaningful value, they are valued which carry no information. Treat both <em>null, undefined</em> interchangeably.</p>
  <h4 class="mume-header" id="automatic-type-conversion">Automatic type conversion:</h4>
  
  <p>JS goes out if its way to accept any program, demonstrated below:</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token comment">// Type coercion</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">8</span> <span class="token operator">*</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; 0</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; 4</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; 51</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;five&quot;</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; NaN</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; true</span>
  </pre><p>You result in <em>NaN</em> mostly in accidental type conversions, this is something to take note of.</p>
  <p>A useful behaviour to consider is when comparing <em>null</em> and <em>undefined</em>.</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> undefined<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; false</span>
  </pre><p>The usefulness appears when you want to test whether a value has a real value instead of <em>null</em> or <em>undefined</em>. It is also recommended using three character comparison operators (=== and !==) <strong>defensively</strong> to prevent unexpected type conversions. They are used to test whether values are <em>precisely</em> equal/not equal.</p>
  <h4 class="mume-header" id="short-circuiting-of-logical-operators">Short circuiting of logical operators</h4>
  
  <p>Logical operators &amp;&amp; and || handle values in a manner where they convert their left hand side to boolean type in order to decide what to do</p>
  <p>The || operator returns value to its left when that value can be converted to true otherwise it will return the right side value.</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">||</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; user</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Agnes&quot;</span> <span class="token operator">||</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
  <span class="token comment">// &#x2192; Agnes</span>
  </pre>
  <p>The rules for converting strings and numbers to Boolean values state that 0, NaN and empty str (&quot;&quot;) count as <em>false</em> so: So 0 || -1 produces -1, and &quot;&quot; || &quot;!?&quot; yields &quot;!?&quot;</p>
  <p>The &amp;&amp; operator works similarly BUT the other way around, when value to its left converts to false it returns that value and otherwise it returns right hand value.</p>
  <p>For both of these operators, the part on their right side is only evaluated when <em>necessary</em>.</p>
    </div>
        <!-- END CHP1 -->
  <hr>
  </body></html>
        <!-- CHAPTER 2 notes-->
  </head>
    <body for="html-export">
        <div class="mume markdown-preview  ">
        <h2 class="mume-header" id="chapter-2-program-structure">Chapter 2: Program Structure</h2>
    <h4 class="mume-header" id="expressions-and-statements">Expressions and statements</h4>
  
  <p>A fragment of code that produces a value is called an <em>expression</em>.<br>
  If an expression corresponds to a sentence fragment, a JavaScript <em>statement</em> corresponds to a full sentence. A program is a list of statements.</p>
  <p>Example of a simple <strong>program</strong>:</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token operator">!</span><span class="token boolean">false</span><span class="token punctuation">;</span>
  </pre><p>It is a usless program but as long as it has changed the internal state of the machine in a way that it will affect the statements coming after it, it counts.</p>
  <h4 class="mume-header" id="bindings">Bindings</h4>
  
  <p>JavaScript provides a thing called a binding, or variable:</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">let</span> caught <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">;</span>
  </pre><p><em>let</em> indicates that this sentence is going to define a binding. After it has been defined, its name can be used as an expression e.g.</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">let</span> ten <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ten <span class="token operator">*</span> ten<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 100</span>
  </pre><p>The = <em>operator</em> can be used at any time on existing bindings to disconnect them from their current value and have them point to a new one.</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">let</span> mood <span class="token operator">=</span> <span class="token string">&quot;light&quot;</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mood<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; light</span>
  mood <span class="token operator">=</span> <span class="token string">&quot;dark&quot;</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mood<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; dark</span>
  </pre><p>A single let statement can define multiple <em>bindings</em>, seperated by commas:</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">let</span> one <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> two <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one <span class="token operator">+</span> two<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 3</span>
  </pre><p>The words <em>var and const</em> can also be used to create bindings, in a way similar to let.<br>
  <em>var</em> will barely be used in this book because of confusing properties it comes with. The word <em>const</em> points at the same value forever</p>
  <h4 class="mume-header" id="binding-names">Binding names</h4>
  
  <p>These can be any words <strong>except</strong> keyword (words with special meaning), these are shown below:</p>
  <pre data-role="codeBlock" data-info class="language-"><code>  break case catch class const continue debugger default
  delete do else enum export extends false finally for
  function if implements import interface in instanceof let
  new package private protected public return static super
  switch this throw true try typeof var void while with yield
  </code></pre><h4 class="mume-header" id="the-environment">The environment</h4>
  
  <p>The collection of bindings and their values that exist at a given time is called the <em>environment</em>.</p>
  <h4 class="mume-header" id="functions">Functions</h4>
  
  <p>A lot of the values provided in the default <em>environment</em> have the type function. A function is a piece of program wrapped in a value. Executing a function is called <em>invoking, calling, or applying it</em>. Values given to functions are called <em>arguments</em>.</p>
  <h4 class="mume-header" id="return-values">Return values:</h4>
  
  <p>When a function produces a value, it is said to return that value.For example, the function <em>Math.max</em> takes any amount of number arguments and gives back the greatest</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 4</span>
  </pre><p>Anything that produces a value is an expression in JavaScript, which means function calls can be used within larger expressions<br>
  Here a call to <strong>Math.min</strong>, is used as part of a plus expression</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 102</span>
  </pre><h4 class="mume-header" id="conditional-execution">Conditional execution</h4>
  
  <p>Some programs would want to take a branch based on the situation at hand rather than a straight road program</p>
  <p><img src="https://eloquentjavascript.net/img/controlflow-if.svg" alt="Branch"><br>
  This conditional execution is created with the <em>if statement</em> in JS.<br>
  One-liner if statement in JS:</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;It&apos;s true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; It&apos;s true</span>
  </pre><p>You can also chain if/else if/else statements together if you have more paths to choose from e.g.</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;Pick a number&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Small&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Medium&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Large&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </pre><p>The <em>schema</em> for this program looks like this<br>
  <img src="https://eloquentjavascript.net/img/controlflow-nested-if.svg" alt="schema_chain"></p>
  <h4 class="mume-header" id="loops">Loops</h4>
  
  <h6 class="mume-header" id="while-and-do-loops">While and do loops</h6>
  
  <p>A way to run a piece of code multiple times. This form of control flow is called a loop.<br>
  <img src="https://eloquentjavascript.net/img/controlflow-loop.svg" alt="Loop"></p>
  <p>We can now write a program that calculates and shows the value of 2^10</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>counter <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> result <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
    counter <span class="token operator">=</span> counter <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 1024</span>
  </pre><p>We use two <em>bindings</em>: one to keep track of our result and one to count how often we have multiplied this result by 2, the loop tests whether the second binding has reached 10 yet, if not updates both bindings.</p>
  <p>A do loop is similar to a while loop except it always executes once and it starts reflecting whether it should stop only after the <strong>first execution</strong>. Example below will keep prompting till it receives an empty string.</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">let</span> yourName<span class="token punctuation">;</span>
  <span class="token keyword">do</span> <span class="token punctuation">{</span>
    yourName <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&quot;Who are you?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>yourName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>yourName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </pre><h6 class="mume-header" id="for-loops">For loops</h6>
  
  <p>A slightly shorter and more comprehensive form of the while loop, the for loops:</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> number <span class="token operator">&lt;=</span> <span class="token number">12</span><span class="token punctuation">;</span> number <span class="token operator">=</span> number <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// &#x2192; 0</span>
  <span class="token comment">// &#x2192; 2</span>
  <span class="token comment">//   &#x2026; etc.</span>
  </pre><h6 class="mume-header" id="breaking-out-of-for-loops">Breaking out of for loops</h6>
  
  <p>There is a special statement called <strong>break</strong> that has the effect of immediately jumping out of the enclosing loop. Example shown below</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token punctuation">;</span> current <span class="token operator">=</span> current <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// &#x2192; 21</span>
  </pre><ul>
  <li>Illustrates the <strong>break</strong> statement</li>
  <li>It finds the first number that is both greater than or equal to 20 and divisible by 7.</li>
  <li>Uses remainder operator</li>
  <li>The for statement doesn&apos;t indicate end of loop rather the if statement, if executed, will break the loop otherwise <em>infinite loop</em></li>
  </ul>
  <p>The <em>continue</em> keyword is similar to break but when it is encountered in a loop, control jumps out of the body and continues with the loop&apos;s next <em>iteration</em>.</p>
  
    </div>
  </body></html>  
        <!-- END CHP2 -->

        <!-- START CHP3 -->
        <hr>
      </head>
      <body for="html-export">
        <div class="mume markdown-preview  ">
        <h2 class="mume-header" id="chapter-3-functions">Chapter 3: Functions</h2>
  
  <h4 class="mume-header" id="defining-a-function">Defining a function</h4>
  
  <p>A <em>function</em> definition is a regular binding where the value of the binding is a function.</p>
  <p>The below function defines <em>square</em> to refer to a function that produces the square of a given number</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">square</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">square</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 144</span>
  </pre><p>Function is created with keyword <em>function</em>, they have a set of <em>parameters</em> (in this case, only x) and a <em>body</em> which contains statements to be executed during function calls.</p>
  <p>Below are examples of functions with varying amount of parameters:</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">makeNoise</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Pling!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token function">makeNoise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; Pling!</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">power</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">base<span class="token punctuation">,</span> exponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> exponent<span class="token punctuation">;</span> count<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">*=</span> base<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">power</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 1024</span>
  </pre><p>A return statement determines the value the function returns<br>
  <strong>Parameters</strong> to a function behave like regular <em>bindings</em>, but their initial values are given by the caller of the function, not the code in the function itself</p>
  <h4 class="mume-header" id="bindings-and-scope">Bindings and scope</h4>
  
  <p>Each binding has a scope, which is the part of the program in which the binding is visible. For bindings defined outside of any function or block, the scope is the whole program&#x2014;you can refer to such bindings wherever you want. These are called <em>global</em>.</p>
  <p>Each function acts like a <em>little world</em>, a local environment for bindings declared in the function parameters or declared inside the function. We should also consider locality of bindings to the blocks they are created in (example below):</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y <span class="token operator">+</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// &#x2192; 60</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// y is not visible here</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x <span class="token operator">+</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 40</span>
  </pre><p>Bindings created with <strong>var</strong> keyword are visible throughout the whole function. Remember to care when multiple bindings have same name (example below).</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">halve</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">halve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 50</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 10</span>
  </pre><h4 class="mume-header" id="nested-scope">Nested scope:</h4>
  
  <p>Multiple degrees of locality can be created when considering blocks/functions within other functions/blocks. See the code below</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">hummus</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">factor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">ingredient</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">amount<span class="token punctuation">,</span> unit<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> ingredientAmount <span class="token operator">=</span> amount <span class="token operator">*</span> factor<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>ingredientAmount <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        unit <span class="token operator">+=</span> <span class="token string">&quot;s&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ingredientAmount<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>unit<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">ingredient</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;can&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;chickpeas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ingredient</span><span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token string">&quot;cup&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tahini&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ingredient</span><span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token string">&quot;cup&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lemon juice&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ingredient</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;clove&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;garlic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ingredient</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;tablespoon&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;olive oil&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">ingredient</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">&quot;teaspoon&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cumin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  </pre><p>The code inside the ingredient function can see the <em>factor</em> binding from the outer function.</p>
  <h4 class="mume-header" id="functions-as-values">Functions as values:</h4>
  
  <p>A function <em>binding</em> usually simply acts as a name for a specific piece of the program. Such a binding is defined once and never changed. This makes it easy to confuse the function and its name.</p>
  <p>Function values can imitate all typical value attributes, e.g.  It is possible to store a function value in a new binding, pass it as an argument to a function, and so on.</p>
  <pre data-role="codeBlock" data-info="javascript" class="language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">launchMissiles</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    missileSystem<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token string">&quot;now&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>safeMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">launchMissiles</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* do nothing */</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </pre><h4 class="mume-header" id="declaration-notation">Declaration notation:</h4>
  
  <p>A shorter way:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </pre><p>A small subtlety, the below code will work even though the function comes after its call.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;The future says:&quot;</span><span class="token punctuation">,</span> <span class="token function">future</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">function</span> <span class="token function">future</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;You&apos;ll never have flying cars&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </pre><h4 class="mume-header" id="arrow-functions">Arrow functions:</h4>
  
  <p>The third notation uses an arrow (=&gt;), it comes <em>after</em> the list of parameters and is followed by the function&apos;s body. Example:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">power</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">base<span class="token punctuation">,</span> exponent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span> 
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  </pre><p>If there is a single <em>parameter</em> name, you may omit the braces around it, similarly if the body is a single expression. Also, when a function has no parameters, the list is an empty set of parameters. The below statements both do the same thing.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">square1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">square2</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
  <span class="token comment">// No parameters</span>
  <span class="token keyword">const</span> <span class="token function-variable function">horn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Toot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  </pre><h4 class="mume-header" id="the-call-stack">The call stack:</h4>
  
  <p>Every time a function is called, the computer stores this <em>&quot;current context&quot;</em> on top of the <strong>call stack</strong>. When a function returns, it removes the top context from the stack and uses that context to continue execution.</p>
  <p>Storing this stack requires space in the computer&apos;s memory, as it grows too big, the computer will fail with a message like <em>&quot;out of stack space&quot;</em>. The following code illustrates a <em>&quot;would be infinite recursion&quot;</em> if the computer had an infinite stack.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">chicken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">egg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">egg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">chicken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">chicken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; came first.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; ??</span>
  </pre><h4 class="mume-header" id="optional-arguments">Optional arguments:</h4>
  
  <p>The following code is allowed and executes without any problem:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">square</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&quot;hedgehog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 16</span>
  </pre><p>JavaScript is extremely broad-minded about the number of arguments you pass to a function. If you pass too many, the extra ones are ignored. If you pass too few, the <em>missing parameters</em> get assigned the value <strong>undefined</strong>.</p>
  <p>If you write an = operator after a parameter, followed by an expression, the value of that expression will replace the argument when it is not given.<br>
  <em>Example</em> below</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">power</span><span class="token punctuation">(</span><span class="token parameter">base<span class="token punctuation">,</span> exponent <span class="token operator">=</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> exponent<span class="token punctuation">;</span> count<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">*=</span> base<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">power</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 16</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">power</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 64</span>
  </pre><h4 class="mume-header" id="closure">Closure</h4>
  
  <p>What happens to local bindings when the <em>function call</em> that created them is no longer active?</p>
  <p>The following code shows an example of this:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">wrapValue</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> local <span class="token operator">=</span> n<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> local<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">let</span> wrap1 <span class="token operator">=</span> <span class="token function">wrapValue</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> wrap2 <span class="token operator">=</span> <span class="token function">wrapValue</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">wrap1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">wrap2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 2</span>
  </pre><p><strong>NOTE</strong>: The explicit local binding from the wrapValue example isn&#x2019;t really needed since a parameter is itself a local binding.</p>
  <p>It defines a function, <em>wrapValue</em>, that creates a local <em>binding</em>. It then returns a function that accesses and returns this local binding.</p>
  <p>This is allowed and works as you&#x2019;d hope&#x2014;both instances of the binding can still be accessed. This situation is a good demonstration of the fact that local bindings are created anew for every call.</p>
  <p>This feature&#x2014;being able to reference a specific instance of a local binding in an enclosing scope&#x2014;is called closure.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">multiplier</span><span class="token punctuation">(</span><span class="token parameter">factor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token parameter">number</span> <span class="token operator">=&gt;</span> number <span class="token operator">*</span> factor<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">let</span> twice <span class="token operator">=</span> <span class="token function">multiplier</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">twice</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 10</span>
  </pre><h4 class="mume-header" id="recursion">Recursion:</h4>
  
  <p>A function may call itself (recursive), as long as it doesn&apos;t overflow the stack. Below is shown an alternative representation of the power function.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">power</span><span class="token punctuation">(</span><span class="token parameter">base<span class="token punctuation">,</span> exponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>exponent <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> base <span class="token operator">*</span> <span class="token function">power</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> exponent <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">power</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 8</span>
  </pre><p>This implementation has one problem: in typical JavaScript implementations, it&#x2019;s about <strong>three</strong> times slower than the <em>looping</em> version.</p>
  <p>The looping version is still fairly simple and easy to read thus there is no reason to replace it with the recursive version.</p>
  <p>In other cases often, though, a program deals with such <em>complex</em> concepts that giving up some efficiency in order to make the program more straightforward is helpful.</p>
  <p>Below is an example of a <strong>recursive function</strong> which finds a sequence of additions and multiplications which produce a target number.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">findSolution</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">current<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> history<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>current <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span>current <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>history<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> + 5)`</span></span><span class="token punctuation">)</span> <span class="token operator">||</span>
               <span class="token function">find</span><span class="token punctuation">(</span>current <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>history<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> * 3)`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">findSolution</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; (((1 * 3) + 5) * 3)</span>
  </pre><p>Below are calls to find that are made when searching for solution to 13.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span>
    <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&quot;(1 + 5)&quot;</span><span class="token punctuation">)</span>
      <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">&quot;((1 + 5) + 5)&quot;</span><span class="token punctuation">)</span>
        <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">&quot;(((1 + 5) + 5) + 5)&quot;</span><span class="token punctuation">)</span>
          too big
        <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token string">&quot;(((1 + 5) + 5) * 3)&quot;</span><span class="token punctuation">)</span>
          too big
      <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;((1 + 5) * 3)&quot;</span><span class="token punctuation">)</span>
        too big
    <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;(1 * 3)&quot;</span><span class="token punctuation">)</span>
      <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">&quot;((1 * 3) + 5)&quot;</span><span class="token punctuation">)</span>
        <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">&quot;(((1 * 3) + 5) + 5)&quot;</span><span class="token punctuation">)</span>
          found<span class="token operator">!</span>
  </pre><p>The indentation indicates the depth of the call stack.</p>
  <h4 class="mume-header" id="growing-functions">Growing functions</h4>
  
  <p>There are two ways for functions to be introduced into programs.</p>
  <ol>
  <li>You find yourself writing code multiple times, for convenience you take the repeated functionality and put it into a function</li>
  <li>The 2nd way is you find some functionality in your program which sounds like it deserve its own function.</li>
  </ol>
  <p>Whenever we &quot;<em>grow</em>&quot; our functions to make them smarter and more versatile i.e. to handle more parameters, different characters, num types, etc. We must make sure the &quot;<em>cleverness</em>&quot; is necessary.</p>
  <h4 class="mume-header" id="functions-and-side-effects">Functions and side effects</h4>
  
  <p>Functions can be divided into those which return a value and those who are called for their <em>side effects</em> (e.g. prints a line).</p>
  <ul>
  <li><em>Functions</em> that create values are easier to combine than those that directly perform side effects.</li>
  <li><em>A pure function</em> doesn&apos;t perform these side effects neither does it rely on side effects from other code&#x2014;for e.g. global bindings whose value might change.</li>
  <li><em>Non pure functions</em> are still useful in certain contexts, for instance, there&apos;d be no way to write a pure version of <em>console.log</em>. Computing speed in itself can be a reaso to avoid purity.</li>
  </ul>
  <h4 class="mume-header" id="summary">Summary</h4>
  
  <p>This chapter taught me ways to write my own functions, using the function keyword and arrow symbol.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Define f to hold a function value</span>
  <span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token comment">// Declare g to be a function</span>
  <span class="token keyword">function</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b <span class="token operator">*</span> <span class="token number">3.5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// A less verbose function value</span>
  <span class="token keyword">let</span> <span class="token function-variable function">h</span> <span class="token operator">=</span> <span class="token parameter">a</span> <span class="token operator">=&gt;</span> a <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">;</span>
  </pre>
        </div>
    
      </body></html>
        <!-- END OF CHP3 -->
      </head>
      <body for="html-export">
        <div class="mume markdown-preview  ">
        <hr>
  <h2 class="mume-header" id="chapter-4-objects-and-arrays">Chapter 4: Objects and Arrays</h2>
  
  <p><em>Numbers, Booleans, and strings</em> are the atoms that data structures are built from. Many types of information require more than one atom, though. <strong>Objects</strong> allow us to group values&#x2014;including other objects&#x2014;to build more <em>complex</em> structures.</p>
  <h4 class="mume-header" id="data-sets">Data sets</h4>
  
  <p>JavaScript provides a data set for specifically storing sequences of values, called an array, below shows an example</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript">  <span class="token keyword">let</span> listOfNumbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>listOfNumbers<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 5</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>listOfNumbers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 2</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>listOfNumbers<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 3</span>
  </pre><p>The first index of an array is <strong>zero</strong>, not one. So the first element is retrieved with listOfNumbers[0]</p>
  <h4 class="mume-header" id="properties">Properties</h4>
  
  <p>We have already come across properties in myString.length and Math.max, the names after the dots are properties. All <strong>valid</strong> property names are strings, easily accessed by a dot, otherwise accessed by square braces: value[2], value[&quot;John Uptight&quot;].</p>
  <p><em>Accessing properties:</em></p>
  <ul>
  <li><em>value.x</em> fetches the property of value named &apos;x&apos;,e.g. if you know the name of the property as &apos;color&apos;, you say: value.color</li>
  <li><em>value[x]</em> tries to evaluate the expression x and uses the result, converted to a string, as a property name.  e.g. If you want to extract property named by the value held in the binding i, you say: value[i]</li>
  </ul>
  <p>The <em>length</em> property of an array tells us how many elements it has, use: array.length</p>
  <h4 class="mume-header" id="methods">Methods</h4>
  
  <p>In addition to the above length property, there are a number of properties that hold function values. Consider below:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> doh <span class="token operator">=</span> <span class="token string">&quot;Doh&quot;</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> doh<span class="token punctuation">.</span>toUpperCase<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; function</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doh<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; DOH</span>
  </pre><p>Every string has a toUpperCase, toLowerCase property. Properties that contains functions are generally called <em>methods</em> of the value they belong to, e.g. <em>toUpperCase</em> is a method of a string.</p>
  <p>The example below shows 2 methods: <em>push</em> (add values to end of array), <em>pop</em> (remove last value in array and return it).</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> sequence <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  sequence<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  sequence<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sequence<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [1, 2, 3, 4, 5]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sequence<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 5</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sequence<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [1, 2, 3, 4]</span>
  </pre><h4 class="mume-header" id="objects">Objects</h4>
  
  <p>Values of the type <strong>object</strong> are arbitrary collections of properties. One way to create an object is by using braces as an expression.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> day1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    squirrel<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    events<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;work&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;touched tree&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pizza&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;running&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>day1<span class="token punctuation">.</span>squirrel<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; false</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>day1<span class="token punctuation">.</span>wolf<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; undefined</span>
  day1<span class="token punctuation">.</span>wolf <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>day1<span class="token punctuation">.</span>wolf<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; false</span>
  </pre><p>Reading a property that doesn&#x2019;t exist will give you the value <em>undefined</em>.</p>
  <p>The delete operator applied to an object property, will remove the named property from the object.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> anObject <span class="token operator">=</span> <span class="token punctuation">{</span>left<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>anObject<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 1</span>
  <span class="token keyword">delete</span> anObject<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>anObject<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; undefined</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;left&quot;</span> <span class="token keyword">in</span> anObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; false</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;right&quot;</span> <span class="token keyword">in</span> anObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; true</span>
  </pre><p>The binary <strong>in</strong> operator, when applied to a string and an object, tells you whether that object has a property with that name.</p>
  <p>To find out what <em>properties</em> an object has, you can use the <strong>Object.keys</strong> function. You give it an object, and it returns an array of strings&#x2014;the object&#x2019;s property names.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;]</span>
  </pre><p>There&#x2019;s an Object.assign function that copies all properties from one object into another.</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> objectA <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>objectA<span class="token punctuation">,</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objectA<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; {a: 1, b: 3, c: 4}</span>
  </pre><p>Following on from the &quot;squirrel&quot; example from eloquent JS, we represent that Jack keeps a journal as an array of objects:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> journal <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>events<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;work&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;touched tree&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pizza&quot;</span><span class="token punctuation">,</span>
              <span class="token string">&quot;running&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;television&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     squirrel<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>events<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;work&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ice cream&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cauliflower&quot;</span><span class="token punctuation">,</span>
              <span class="token string">&quot;lasagna&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;touched tree&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;brushed teeth&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     squirrel<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>events<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;weekend&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cycling&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;break&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;peanuts&quot;</span><span class="token punctuation">,</span>
              <span class="token string">&quot;beer&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     squirrel<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/* and so on... */</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
  </pre><h4 class="mume-header" id="mutability">Mutability</h4>
  
  <p>Objects work different to numbers, strings and booleans (these can&apos;t be modified). You can change their properties, causing a single object value to have different content at different times.</p>
  <p>For objects, having 2 references to the same object opposed to having 2 objects with identical properties yields a difference. Consider below:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> object1 <span class="token operator">=</span> <span class="token punctuation">{</span>value<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> object2 <span class="token operator">=</span> object1<span class="token punctuation">;</span>
  <span class="token keyword">let</span> object3 <span class="token operator">=</span> <span class="token punctuation">{</span>value<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1 <span class="token operator">==</span> object2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1 <span class="token operator">==</span> object3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; false</span>
  
  object1<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object2<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 15</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object3<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 10</span>
  </pre><p>Bindings can also be constant or changeable. Consider a const binding to an object, it itself cannot change but the contents of that object might:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token punctuation">{</span>visitors<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> home<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// This is okay</span>
  score<span class="token punctuation">.</span>visitors <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token comment">// This isn&apos;t allowed</span>
  score <span class="token operator">=</span> <span class="token punctuation">{</span>visitors<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> home<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  </pre><h4 class="mume-header" id="the-squirrel-exercise-log">The Squirrel Exercise: Log</h4>
  
  <p>Jack has now set up his <em>environment</em> for the <strong>journal</strong>:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> journal <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  
  <span class="token keyword">function</span> <span class="token function">addEntry</span><span class="token punctuation">(</span><span class="token parameter">events<span class="token punctuation">,</span> squirrel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    journal<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>events<span class="token punctuation">,</span> squirrel<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </pre><p>He then records the day as such:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token function">addEntry</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;work&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;touched tree&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pizza&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;running&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;television&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">addEntry</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;work&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ice cream&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cauliflower&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lasagna&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;touched tree&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;brushed teeth&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">addEntry</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;weekend&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cycling&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;break&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;peanuts&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;beer&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </pre><p>He wants to compute the correlation between two boolean variables, e.g. eating pizza and becoming squirrel (true, true), he has to compute the <em>phi</em> coefficient:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">phi</span><span class="token punctuation">(</span><span class="token parameter">table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>table<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">*</span> table<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> table<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> table<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span>
      Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>table<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> table<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                <span class="token punctuation">(</span>table<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> table<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                <span class="token punctuation">(</span>table<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> table<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                <span class="token punctuation">(</span>table<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> table<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">phi</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 0.068599434</span>
  
  <span class="token comment">// NOTE: The function above can be destructured for readability</span>
  <span class="token keyword">function</span> <span class="token function">phi</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>n00<span class="token punctuation">,</span> n01<span class="token punctuation">,</span> n10<span class="token punctuation">,</span> n11<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>n11 <span class="token operator">*</span> n00 <span class="token operator">-</span> n10 <span class="token operator">*</span> n01<span class="token punctuation">)</span> <span class="token operator">/</span>
      Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n10 <span class="token operator">+</span> n11<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n00 <span class="token operator">+</span> n01<span class="token punctuation">)</span> <span class="token operator">*</span>
                <span class="token punctuation">(</span>n01 <span class="token operator">+</span> n11<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n00 <span class="token operator">+</span> n10<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </pre><p>Jack then keeps his journal for 3 months, seen in the file DIARY.txt, we can now loop over all the entries and tally how many times the event occurs in relation to squirrel transformations:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Function that returns a list of how many times an</span>
  <span class="token comment">// event occurs in relation to squirrel transforms</span>
  <span class="token keyword">function</span> <span class="token function">tableFor</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> journal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Define our empty table</span>
    <span class="token keyword">let</span> table <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Loop through our journal</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> journal<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Each entry is an object consisting of a list (events)</span>
      <span class="token comment">// and a boolean (squirrel)</span>
      <span class="token keyword">let</span> entry <span class="token operator">=</span> journal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token comment">// If the events list contains our event, tally it in our</span>
      <span class="token comment">// table [0, __, 0, 0]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>events<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span> index <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token comment">// If our squirrel boolean is true, tally it in our table </span>
      <span class="token comment">// [0, 0, 0, __]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>squirrel<span class="token punctuation">)</span> index <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token comment">// Tally our table with respect to index</span>
      table<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> table<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tableFor</span><span class="token punctuation">(</span><span class="token string">&quot;pizza&quot;</span><span class="token punctuation">,</span> <span class="token constant">JOURNAL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [76, 9, 4, 1]</span>
  </pre><p>The <em>include</em> method checks whether a given value exists in the array, out function uses it to determine whether the event name was in the <strong>event list</strong> for a given day.</p>
  <h4 class="mume-header" id="array-loops">Array Loops</h4>
  
  <p>The for loop in the tableFor function can be replaced with a simpler alternative:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> entry <span class="token keyword">of</span> <span class="token constant">JOURNAL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entry<span class="token punctuation">.</span>events<span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> events.`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </pre><ul>
  <li><em>Entry</em> is a variable definition</li>
  <li>The word after <em>of</em> is the iterable, i.e. JOURNAL.</li>
  </ul>
  <h4 class="mume-header" id="the-analysis">The analysis</h4>
  
  <p>We need to now compute the correlation for every type of event that occurs in the data set, use:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Function which returns a list of events in journal</span>
  <span class="token keyword">function</span> <span class="token function">journalEvents</span><span class="token punctuation">(</span><span class="token parameter">journal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Loop through journal</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> entry <span class="token keyword">of</span> journal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Loop through each list in Journal</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> event <span class="token keyword">of</span> entry<span class="token punctuation">.</span>events<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// If the list element is not in events </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>events<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// Add the event to our list</span>
          events<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Return our list of events</span>
    <span class="token keyword">return</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">journalEvents</span><span class="token punctuation">(</span><span class="token constant">JOURNAL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [&quot;carrot&quot;, &quot;exercise&quot;, &quot;weekend&quot;, &quot;bread&quot;, &#x2026;]</span>
  </pre><p>Using the above function, we can now combine it with our other functions to get correlations</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> event <span class="token keyword">of</span> <span class="token function">journalEvents</span><span class="token punctuation">(</span><span class="token constant">JOURNAL</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span><span class="token punctuation">,</span> <span class="token function">phi</span><span class="token punctuation">(</span><span class="token function">tableFor</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> <span class="token constant">JOURNAL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// &#x2192; carrot:   0.0140970969</span>
  <span class="token comment">// &#x2192; exercise: 0.0685994341</span>
  <span class="token comment">// &#x2192; weekend:  0.1371988681</span>
  <span class="token comment">// &#x2192; bread:   -0.0757554019</span>
  <span class="token comment">// &#x2192; pudding: -0.0648203724</span>
  <span class="token comment">// and so on...</span>
  </pre><p>The results should be filtered to see which correlations aren&apos;t closer to zero, consider correlations greater than 0.1 or less than -0.1:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> event <span class="token keyword">of</span> <span class="token function">journalEvents</span><span class="token punctuation">(</span><span class="token constant">JOURNAL</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> correlation <span class="token operator">=</span> <span class="token function">phi</span><span class="token punctuation">(</span><span class="token function">tableFor</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> <span class="token constant">JOURNAL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>correlation <span class="token operator">&gt;</span> <span class="token number">0.1</span> <span class="token operator">||</span> correlation <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span><span class="token punctuation">,</span> correlation<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// &#x2192; weekend:        0.1371988681</span>
  <span class="token comment">// &#x2192; brushed teeth: -0.3805211953</span>
  <span class="token comment">// &#x2192; candy:          0.1296407447</span>
  <span class="token comment">// &#x2192; work:          -0.1371988681</span>
  <span class="token comment">// &#x2192; spaghetti:      0.2425356250</span>
  <span class="token comment">// &#x2192; reading:        0.1106828054</span>
  <span class="token comment">// &#x2192; peanuts:        0.5902679812</span>
  </pre><p>As shown above eating peanuts has a strong effect whereas as rather brushing teeth has a significantly negative effect on <em>squirrelification</em>. Lets try something</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> entry <span class="token keyword">of</span> <span class="token constant">JOURNAL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>events<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;peanuts&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
       <span class="token operator">!</span>entry<span class="token punctuation">.</span>events<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;brushed teeth&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      entry<span class="token punctuation">.</span>events<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;peanut teeth&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">phi</span><span class="token punctuation">(</span><span class="token function">tableFor</span><span class="token punctuation">(</span><span class="token string">&quot;peanut teeth&quot;</span><span class="token punctuation">,</span> <span class="token constant">JOURNAL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 1</span>
  </pre><p>This is a strong result, squirrelification occurs whenever he eats peanuts and fails to brush his teeth.</p>
  <h4 class="mume-header" id="further-arrayology">Further Arrayology</h4>
  
  <p>In addition to <em>push</em> and <em>pop</em> methods to remove add and remove elements at the end of an array, we have other useful methods:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> todoList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">remember</span><span class="token punctuation">(</span><span class="token parameter">task</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    todoList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Removes front list element</span>
  <span class="token keyword">function</span> <span class="token function">getTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> todoList<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Adds a task to the front of a list</span>
  <span class="token keyword">function</span> <span class="token function">rememberUrgently</span><span class="token punctuation">(</span><span class="token parameter">task</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    todoList<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Search for a specific value from start</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 1</span>
  <span class="token comment">// Search for a specific value from end</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 3</span>
  <span class="token comment">// Both of the above have optional 2nd argument </span>
  <span class="token comment">// Indicating where to start search from</span>
  
  <span class="token comment">// Slice returns array that has elements between given indices:</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [2, 3]</span>
  <span class="token comment">// Start is inclusive, end is exclusive</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [2, 3, 4]</span>
  
  <span class="token comment">// concat is used to glue arrays together to create a </span>
  <span class="token comment">// new array</span>
  <span class="token keyword">function</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> array<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [&quot;a&quot;, &quot;b&quot;, &quot;d&quot;, &quot;e&quot;]</span>
  </pre><h4 class="mume-header" id="strings-and-their-properties">Strings and their properties</h4>
  
  <p>Remember that string values are immutable and cannot be changed therefore we cannot set new properties on them. Although there are some very useful methods in strings, some shown below</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Both of these resemble slice and indexOf from array methods</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;coconuts&quot;</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; nut</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;coconut&quot;</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;u&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 5</span>
  <span class="token comment">// indexOf with several characters:</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;one two three&quot;</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;ee&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 11</span>
  
  <span class="token comment">// trim method removes whitespace start and end of string </span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;  okay \n &quot;</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; okay</span>
  
  <span class="token comment">// split and join can be used on strings</span>
  <span class="token keyword">let</span> sentence <span class="token operator">=</span> <span class="token string">&quot;Secretarybirds specialize in stomping&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> words <span class="token operator">=</span> sentence<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [&quot;Secretarybirds&quot;, &quot;specialize&quot;, &quot;in&quot;, &quot;stomping&quot;]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>words<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;. &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; Secretarybirds. specialize. in. stomping</span>
  
  <span class="token comment">// String can be repeated with repeat</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;LA&quot;</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; LALALA</span>
  
  <span class="token comment">// We&apos;ve already seen .length and accessing string elements:</span>
  <span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 3</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; b</span>
  </pre><h4 class="mume-header" id="rest-parameters">Rest parameters</h4>
  
  <p>It can be useful for a function to accept any number of arguments. To write such a function, you put <strong>three dots</strong> before the function&apos;s last parameter as shown below:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>numbers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">Infinity</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> number <span class="token keyword">of</span> numbers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;</span> result<span class="token punctuation">)</span> result <span class="token operator">=</span> number<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 9</span>
  
  <span class="token comment">// You can also use the notation when calling the function: </span>
  <span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// Swuare brackets similarly allow for the triple-dot operator </span>
  <span class="token comment">// to spread another array into the new array</span>
  <span class="token keyword">let</span> words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;never&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;fully&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;will&quot;</span><span class="token punctuation">,</span> <span class="token operator">...</span>words<span class="token punctuation">,</span> <span class="token string">&quot;understand&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [&quot;will&quot;, &quot;never&quot;, &quot;fully&quot;, &quot;understand&quot;]</span>
  </pre><h4 class="mume-header" id="math-objects">Math objects:</h4>
  
  <p>As we&#x2019;ve seen, Math is a grab bag of number-related utility functions, such as Math.max (maximum), Math.min (minimum), and Math.sqrt (square root).</p>
  <p>There are others to consider:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// We can do trignometry with cos, sin and tan</span>
  <span class="token comment">// Use their inverses or even use PI</span>
  <span class="token keyword">function</span> <span class="token function">randomPointOnCircle</span><span class="token punctuation">(</span><span class="token parameter">radius</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> angle <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> radius <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">,</span>
            y<span class="token punctuation">:</span> radius <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">randomPointOnCircle</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; {x: 0.3667, y: 1.966}</span>
  
  <span class="token comment">// Math.random returns a new pseudorandom number between </span>
  <span class="token comment">// zero (inclusive) and one (exclusive)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 0.36993729369714856</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 0.727367032552138</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 0.40180766698904335</span>
  
  <span class="token comment">// Math.floor rounds down to nearest whole number </span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; 2</span>
  
  <span class="token comment">// Similary we can use Math.ceil to round up, Math.round to</span>
  <span class="token comment">// round to nearest whole number, Math.abs for absolute values.</span>
  </pre><p>Small trick for an object; looking inside the object with braces</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;Faraji&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; Faraji</span>
  </pre><h4 class="mume-header" id="json">JSON</h4>
  
  <p>Perhaps we want to save data in a file for later use or send it to another computer over the net, we would have to convert these tangled memory addresses to a description that can be sent and stored.</p>
  <p>What we do is serialize the data, meaning converting it into flat description. JSON is a popular serialization format, widely used.</p>
  <p>Here&apos;s an example of JSON data:</p>
  <pre data-role="codeBlock" data-info="JSON" class="language-json"><span class="token punctuation">{</span>
    <span class="token property">&quot;squirrel&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;work&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;touched tree&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pizza&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;running&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  </pre><p>JavaScript gives us functions <em>JSON.stringify</em> and <em>JSON.parse</em> to convert data to and from this format. The first returns a JSON-encoded string and the second takes such a string and converts it to the value it encodes:</p>
  <pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>squirrel<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                               events<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;weekend&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; {&quot;squirrel&quot;:false,&quot;events&quot;:[&quot;weekend&quot;]}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">.</span>events<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// &#x2192; [&quot;weekend&quot;]</span>
  </pre>
        </div>
      </body></html>
      <!-- End of chapter 4-->
      <!-- START OF CHAPER 5-->
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <hr>
<h2 class="mume-header" id="chapter-5-higher-order-functions">Chapter 5: Higher-Order Functions</h2>

<p>A large program is a costly program and not just because of the time it takes to build but the complexity which in turn confuses programmers leading them to introduce bugs into the program.</p>
<h4 class="mume-header" id="abstraction">Abstraction</h4>

<p>Certain vocabularies which hide details and give us the ability to talk about our problems at a higher level are called <em>abstractions</em>.</p>
<p>E.g. consider 2 programs below which sum the range of 1..10, the latter is more <em>abstract</em></p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  total <span class="token operator">+=</span> count<span class="token punctuation">;</span>
  count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>total<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// VS</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>In programming, it is a useful skill to know when you are working too low a level of <em>abstraction</em></p>
<h4 class="mume-header" id="abstracting-repetition">Abstracting Repetition:</h4>

<p>It is common for a program to do something a given number of times, we use a loop but then we go <em>further</em> and abstract it to <em>N times</em>.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">repeatLog</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// -----------------------------------------------------</span>
<span class="token comment">// Do something other than &quot;console.log&quot;</span>
<span class="token keyword">function</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">action</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 0</span>
<span class="token comment">// &#x2192; 1</span>
<span class="token comment">// &#x2192; 2</span>

<span class="token comment">// -----------------------------------------------------</span>
<span class="token comment">// We don&apos;t have to pass a predefined function to repeat()</span>
<span class="token keyword">let</span> labels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  labels<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Unit </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>labels<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; [&quot;Unit 1&quot;, &quot;Unit 2&quot;, &quot;Unit 3&quot;, &quot;Unit 4&quot;, &quot;Unit 5&quot;]</span>
</pre><p>Note: For the <em>non-predefined function</em>, we can <strong>omit</strong> the braces and write the loop on a single line.</p>
<h4 class="mume-header" id="higher-order-functions">Higher-Order functions:</h4>

<p>Functions which operate on other functions (either by argument or return value) are called <em>higher-order</em> functions. They allow us to abstract over <em>actions</em>, see below for examples:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// 1. Functions that create new functions</span>
<span class="token keyword">function</span> <span class="token function">greaterThan</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token parameter">m</span> <span class="token operator">=&gt;</span> m <span class="token operator">&gt;</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> greaterThan10 <span class="token operator">=</span> <span class="token function">greaterThan</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">greaterThan10</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// 2. Functions that change other functions</span>
<span class="token comment">// noisy takes a function as a parameter</span>
<span class="token keyword">function</span> <span class="token function">noisy</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Other args are dealt with inside the function</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;calling with&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Perform function operation</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;called with&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">,</span> <span class="token string">&quot;, returned&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">noisy</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>min<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; calling with [3, 2, 1]</span>
<span class="token comment">// &#x2192; called with [3, 2, 1] , returned 1</span>
</pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// 3. Functions which provide new control flow</span>
<span class="token keyword">function</span> <span class="token function">unless</span><span class="token punctuation">(</span><span class="token parameter">test<span class="token punctuation">,</span> then</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// If test expr false, then do something specified</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>test<span class="token punctuation">)</span> <span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token parameter">n</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// If not odd, then say its even</span>
  <span class="token function">unless</span><span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token string">&quot;is even&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 0 is even</span>
<span class="token comment">// &#x2192; 2 is even</span>
</pre><p>There even is a built-in array method called <em>forEach</em>, which provides a for/of loop as a <em>higher order function</em>.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token punctuation">[</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">l</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; A</span>
<span class="token comment">// &#x2192; B</span>
</pre><h4 class="mume-header" id="script-data-set">Script Data Set</h4>

<p>One area where higher-order functions shine is <em>data processing.</em> To process data, we&#x2019;ll need some actual data. This chapter will use a data set about scripts&#x2014;writing systems such as Latin, Cyrillic, or Arabic.</p>
<p>The example data set contains some pieces of information about the 140 scripts defined in <em>Unicode</em>.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;Coptic&quot;</span><span class="token punctuation">,</span>
  ranges<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">994</span><span class="token punctuation">,</span> <span class="token number">1008</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11392</span><span class="token punctuation">,</span> <span class="token number">11508</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11513</span><span class="token punctuation">,</span> <span class="token number">11520</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  direction<span class="token punctuation">:</span> <span class="token string">&quot;ltr&quot;</span><span class="token punctuation">,</span>
  year<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span>
  living<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  link<span class="token punctuation">:</span> <span class="token string">&quot;https://en.wikipedia.org/wiki/Coptic_alphabet&quot;</span>
<span class="token punctuation">}</span>
</pre><p>The ranges property contains an array of <em>unicode character ranges</em>, each of which is a two-element array containing a <strong>lower bound</strong> and an <strong>upper bound</strong>. Any character codes within these ranges are assigned to the script.</p>
<h4 class="mume-header" id="filtering-arrays">Filtering Arrays</h4>

<p>The following function finds scripts that are still in use, i.e. &apos;living&apos;.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> test</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> passed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> element <span class="token keyword">of</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">test</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      passed<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> passed<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token constant">SCRIPTS</span><span class="token punctuation">,</span> <span class="token parameter">script</span> <span class="token operator">=&gt;</span> script<span class="token punctuation">.</span>living<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; [{name: &quot;Adlam&quot;, &#x2026;}, &#x2026;]</span>
<span class="token comment">// Note: filter is also a standard array method, like forEach. </span>
<span class="token comment">// See method usage:</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">SCRIPTS</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span>direction <span class="token operator">==</span> <span class="token string">&quot;ttb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; [{name: &quot;Mongolian&quot;, &#x2026;}, &#x2026;]</span>
</pre><p>Note how the <em>filter</em> function, rather than deleting elements from the existing array, builds up a <strong>new array</strong> with only the elements that pass the test. This function is <em>pure</em>. It <strong>does not</strong> modify the array it is given.</p>
<h4 class="mume-header" id="transforming-with-map">Transforming With Map</h4>

<p>The map method <em>transforms</em> an array by applying a function to all of its elements and building a new array from the returned values. The new array will have the same length as the input array, but its content will have been <strong>mapped</strong> to a new form by the function.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Function definition</span>
<span class="token keyword">function</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> transform</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Empty mapped list</span>
  <span class="token keyword">let</span> mapped <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// Each element in array will be transformed</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> element <span class="token keyword">of</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Push transformation onto mapped list</span>
    mapped<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">transform</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> mapped<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Filter our scripts that are &quot;rtl&quot; </span>
<span class="token keyword">let</span> rtlScripts <span class="token operator">=</span> <span class="token constant">SCRIPTS</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span>direction <span class="token operator">==</span> <span class="token string">&quot;rtl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Apply transformation to our filtered scripts</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span>rtlScripts<span class="token punctuation">,</span> <span class="token parameter">s</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; [&quot;Adlam&quot;, &quot;Arabic&quot;, &quot;Imperial Aramaic&quot;, &#x2026;]</span>
</pre><h4 class="mume-header" id="summarizing-with-reduce">Summarizing With Reduce</h4>

<p>Another common thing to do with arrays is to <em>compute</em> a single value from them.</p>
<p>The higher-order operation that represents this pattern is called <strong>reduce</strong>. It builds a value by repeatedly taking a single element from the array and combining it with the current value.</p>
<p>The parameters to <strong>reduce</strong> are, apart from the array, a combining function and a start value.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Takes an array, a combine function, start index</span>
<span class="token keyword">function</span> <span class="token function">reduce</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> combine<span class="token punctuation">,</span> start</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> current <span class="token operator">=</span> start<span class="token punctuation">;</span>
  <span class="token comment">// Curr starts of at the start index</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> element <span class="token keyword">of</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// current = 1 = 0 + 1</span>
    <span class="token comment">// current = 3 = 1 + 2</span>
    <span class="token comment">// ...</span>
    <span class="token comment">// current = 10 = 6 + 4</span>
    current <span class="token operator">=</span> <span class="token function">combine</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> current<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 10</span>
<span class="token comment">// You may leave off the start argument if your list contains</span>
<span class="token comment">// atleast 1 element, start becomes first element of array</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 10</span>
</pre><p>We can use <strong>reduce</strong> twice to find the script with the most amount of characters.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Function takes a script</span>
<span class="token keyword">function</span> <span class="token function">characterCount</span><span class="token punctuation">(</span><span class="token parameter">script</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Count the no. of elements between the 2 element arrays</span>
  <span class="token keyword">return</span> script<span class="token punctuation">.</span>ranges<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">count<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> count <span class="token operator">+</span> <span class="token punctuation">(</span>to <span class="token operator">-</span> <span class="token keyword">from</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Takes 2 scripts at a time, then compares till end of array</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">SCRIPTS</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">characterCount</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">characterCount</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">?</span> b <span class="token punctuation">:</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; {name: &quot;Han&quot;, &#x2026;}</span>
</pre><p>Some notes to consider:</p>
<ul>
<li>The characterCount function reduces the ranges assigned to a script by <strong>summing</strong> their sizes.</li>
<li>The second call to <strong>reduce</strong> then uses this to find the largest script by repeatedly comparing two scripts and returning the larger one.</li>
</ul>
<h4 class="mume-header" id="composability">Composability:</h4>

<p>Alternate code for the previous example:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> biggest <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> script <span class="token keyword">of</span> <span class="token constant">SCRIPTS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>biggest <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
      <span class="token function">characterCount</span><span class="token punctuation">(</span>biggest<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">characterCount</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    biggest <span class="token operator">=</span> script<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>biggest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; {name: &quot;Han&quot;, &#x2026;}</span>
</pre><p>The code is very <em>readable</em> yet not much more complex than previous.</p>
<p>Higher-order functions start to shine when you need to <em>compose</em> operations. Look at the example below</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Program which finds the average &apos;year of origin&apos; </span>
<span class="token comment">// for living and dead scripts in the data set</span>

<span class="token comment">// Function takes an array</span>
<span class="token keyword">function</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Sum of all values / amount of values</span>
  <span class="token keyword">return</span> array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">/</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Compute average of living scripts </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token function">average</span><span class="token punctuation">(</span>
  <span class="token constant">SCRIPTS</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span>living<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 1165</span>
<span class="token comment">// Compute average of dead scripts</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token function">average</span><span class="token punctuation">(</span>
  <span class="token constant">SCRIPTS</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>s<span class="token punctuation">.</span>living<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 204</span>
</pre><p>Analysis:</p>
<ul>
<li>Dead scripts on average are older than living ones as expected</li>
<li>We start with all scripts and filter accordingly (like a pipeline), take the years of those, average, then round the result.</li>
</ul>
<p><em>Alternative</em> for computation below:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> script <span class="token keyword">of</span> <span class="token constant">SCRIPTS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>script<span class="token punctuation">.</span>living<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    total <span class="token operator">+=</span> script<span class="token punctuation">.</span>year<span class="token punctuation">;</span>
    count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>total <span class="token operator">/</span> count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 1165</span>
</pre><p><strong>Comparison</strong>:</p>
<ul>
<li>It is harder to see what is going on in the alternative approach and how</li>
<li>The first will build up new arrays when running <em>filter</em> and <em>map</em> whereas the second just computes some numbers thus doing less work.</li>
<li>The first approach is more readable but the second is overall faster for large arrays.</li>
</ul>
<h4 class="mume-header" id="strings-and-character-codes">Strings and Character Codes</h4>

<p>Considering the data set once again, we can figure out what script a piece of text is using. Consider the program below:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Takes in a script code</span>
<span class="token keyword">function</span> <span class="token function">characterScript</span><span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Consider each script </span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> script <span class="token keyword">of</span> <span class="token constant">SCRIPTS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Access the ranges in a script </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>script<span class="token punctuation">.</span>ranges<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> code <span class="token operator">&gt;=</span> <span class="token keyword">from</span> <span class="token operator">&amp;&amp;</span> code <span class="token operator">&lt;</span> to<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> script<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">characterScript</span><span class="token punctuation">(</span><span class="token number">121</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; {name: &quot;Latin&quot;, &#x2026;}</span>

<span class="token comment">// some() method checks if any of the elements </span>
<span class="token comment">// in an array pass a test of a test function</span>

</pre><p>JavaScript, <em>Code Units</em> and <strong>UTF-16</strong>:</p>
<ul>
<li>JS strings are encoded as a sequence of 16 bit numbers called <em>code</em> units.</li>
<li>Code units were supposed to initially fit unicode character codes - giving us a little over 65000 characters, this wasn&apos;t enough and as such, <strong>UTF-16</strong> was created (more memory per character), a format used by JS strings.</li>
<li>UTF-16 shows most common characters using a single 16-bit code unit but uses a pair of 2 such units for others.</li>
<li>UTF-16 is generally considered a bad idea today, for instance, if your language doesn&apos;t use 2-unit characters, that will appear to work just fine but as soon as someone uses such a program with less common chinese characters, it breaks. Fortunately, everyone has started using 2-unit characters.</li>
<li>Obvious operations on JS strings such as length and accessing their content via [], deal only with code-units:</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Two emoji characters, horse and shoe</span>
<span class="token keyword">let</span> horseShoe <span class="token operator">=</span> <span class="token string">&quot;&#x1F434;&#x1F45F;&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>horseShoe<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>horseShoe<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; (Invalid half-character)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>horseShoe<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 55357 (Code of the half-character)</span>
<span class="token comment">// charCodeAt method gives you a code unit</span>
<span class="token comment">// but not a full character code</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>horseShoe<span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 128052 (Actual code for horse emoji)</span>
<span class="token comment">// codePointAt does give a full Unicode character.</span>
</pre><p>Analysis:</p>
<ul>
<li>The codePointAt() method could be used to get characters from a string</li>
<li>We need to consider whether a character takes up 1 or 2 code units. We can use a for/of loop to loop it over a string giving us real characters, not code units</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> roseDragon <span class="token operator">=</span> <span class="token string">&quot;&#x1F339;&#x1F409;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> char <span class="token keyword">of</span> roseDragon<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &#x2192; &#x1F339;</span>
<span class="token comment">// &#x2192; &#x1F409;</span>
</pre><p>NOTE: You can use <em>codePointAt(0)</em> to get its code</p>
<h4 class="mume-header" id="recognizing-text">Recognizing Text</h4>

<p>Now as we have a <em>characterScript</em> function, giving us a way to correctly loop over characters. The next step is to count characters that belong to each script.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Expects a collection and a function which computes a</span>
<span class="token comment">// group name for a given element.</span>
<span class="token keyword">function</span> <span class="token function">countBy</span><span class="token punctuation">(</span><span class="token parameter">items<span class="token punctuation">,</span> groupName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Empty Array </span>
  <span class="token keyword">let</span> counts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// Use for/of over a collection</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// See if item is true to given function </span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">groupName</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// findIndex finds first value that returned true </span>
    <span class="token comment">// else returns -1 when no element found</span>
    <span class="token keyword">let</span> known <span class="token operator">=</span> counts<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>name <span class="token operator">==</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>known <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// If doesn&apos;t exist, push it to counts with count:1</span>
      counts<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">,</span> count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// Otherwise increase the count of the value</span>
      counts<span class="token punctuation">[</span>known<span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// return an array of objects</span>
  <span class="token keyword">return</span> counts<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">countBy</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token parameter">n</span> <span class="token operator">=&gt;</span> n <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; [{name: false, count: 2}, {name: true, count: 3}]</span>
</pre><p>Analysis:</p>
<ul>
<li><em>countBy</em> takes a collection of values and a function to see if each collection value true or false</li>
<li><em>countBy</em> is called to return an array of objects that is determined inside the for/of loop</li>
<li><em>findIndex</em> is called to determine the first value which sufficed the condition. If such a value exists, it increases it&apos;s count otherwise pushes it to empty counts array</li>
</ul>
<p>Now we can write a function that tells us which <em>scipts</em> are used in a piece of text and their percentage.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">textScripts</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// scripts determined by countBy function</span>
  <span class="token keyword">let</span> scripts <span class="token operator">=</span> <span class="token function">countBy</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token parameter">char</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// script determined by codePointAt</span>
    <span class="token keyword">let</span> script <span class="token operator">=</span> <span class="token function">characterScript</span><span class="token punctuation">(</span>char<span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// return name if script exists otherwise none</span>
    <span class="token keyword">return</span> script <span class="token operator">?</span> script<span class="token punctuation">.</span>name <span class="token punctuation">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// filter our &quot;scripts&quot; with existent names only</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> name <span class="token operator">!=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// Find total of existent scripts with reduce</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> scripts<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">+</span> count<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Otherwise none exist</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;No scripts found&quot;</span><span class="token punctuation">;</span>
  
  <span class="token comment">// Transform array into script percentage and script </span>
  <span class="token comment">// name of a string</span>
  <span class="token keyword">return</span> scripts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">,</span> count<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>count <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span> total<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">% </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">textScripts</span><span class="token punctuation">(</span><span class="token string">&apos;&#x82F1;&#x56FD;&#x7684;&#x72D7;&#x8BF4;&quot;woof&quot;, &#x4FC4;&#x7F57;&#x65AF;&#x7684;&#x72D7;&#x8BF4;&quot;&#x442;&#x44F;&#x432;&quot;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 61% Han, 22% Latin, 17% Cyrillic</span>
</pre><p>Analysis:</p>
<ul>
<li>The function first <em>counts</em> characters by name, using characterScript to give <em>them</em> a name otherwise &quot;none&quot;, followingly &quot;none&quot; entries are dropped from the resulting array since we aren&apos;t interested in them.</li>
<li>We obtain the total number of characters that belong to a script as needed for percentage computation.</li>
<li>Lastly, the function transforms the counting entries into readable strings with <em>map</em> combined with <em>join</em></li>
</ul>

      </div>
    </body></html>
    <!-- End of chapter 5-->
    <!-- Start of chapter 6-->
  </head>
  <body for="html-export">
    <div class="mume markdown-preview  ">
    <hr>
<h2 class="mume-header" id="chapter-6-the-secret-life-of-objects">Chapter 6: The Secret Life of Objects</h2>

<p>Chapter 4 introduced JavaScript&#x2019;s objects. In programming culture, we have a thing called object-oriented programming, a set of techniques that use objects (and related concepts) as the central principle of program organization.</p>
<h2 class="mume-header" id="encapsulation">Encapsulation</h2>

<p>In object oriented programming, the main idea is to divide programs into their own manageable state which has its own knowledge of how it works. Someone working on another <em>piece</em> of the program does not have to be aware of that knowledge.</p>
<p>Consider the interaction within an <strong>object-oriented program</strong>:</p>
<ul>
<li>Such program&apos;s pieces interact with eachother via <em>interfaces</em> - limited set of functions or bindings providing functionality at an abstract level thus hiding their precise implementation</li>
<li>Such an objects&apos; interface consists of a specific set of methods and properties (private and public - part of interface).</li>
<li>JS unlike other languages does not prevent outside code from accessing the private properties</li>
<li>It is common to indicate <em>private properties</em> by putting _ at the start of property names.</li>
</ul>
<p>Seperating interfaces from implementation is a good idea, known as <em>encapsulation</em>.</p>
<h2 class="mume-header" id="methods">Methods</h2>

<p>As mentioned in earlier chapters, <em>methods</em> are nothing more than properties that hold function values, e.g. below:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Rabbit</span>
<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
rabbit<span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`The rabbit says &apos;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>line<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&apos;`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

rabbit<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">&quot;I&apos;m alive.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; The rabbit says &apos;I&apos;m alive.&apos;</span>
</pre><p>Usually a method needs to do something with the object that it was called on (object.method())</p>
<ul>
<li>Note: The binding called <em>this</em> in its body automatically points to the object it was called on</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Function takes a string</span>
<span class="token keyword">function</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
<span class="token comment">// this points to caller object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`The </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> rabbit says &apos;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>line<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&apos;`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Define our objects which have a property: type as well as </span>
<span class="token comment">// a method: &apos;speak&apos;</span>
<span class="token keyword">let</span> whiteRabbit <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">&quot;white&quot;</span><span class="token punctuation">,</span> speak<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> hungryRabbit <span class="token operator">=</span> <span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">&quot;hungry&quot;</span><span class="token punctuation">,</span> speak<span class="token punctuation">}</span><span class="token punctuation">;</span>

whiteRabbit<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">&quot;Oh my ears and whiskers, &quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;how late it&apos;s getting!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; The white rabbit says &apos;Oh my ears and whiskers, how</span>
<span class="token comment">//   late it&apos;s getting!&apos;</span>
hungryRabbit<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">&quot;I could use a carrot right now.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; The hungry rabbit says &apos;I could use a carrot right now.&apos;</span>

<span class="token comment">// Alternative way to &apos;this&apos;:</span>
<span class="token function">speak</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>hungryRabbit<span class="token punctuation">,</span> <span class="token string">&quot;I could use a carrot right now.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* 
  &#x2192; The hungry rabbit says &apos;I could use a carrot right now.&apos;
   The call function method takes a &apos;this&apos; as first arg. 
*/</span>
</pre><p>Arrow functions don&apos;t bind their own <em>this</em>, rather they can see the <em>this</em> binding of the scope around them. See below for e.g.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// &apos;this&apos; can access local bindings: coords, length</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>coords<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">n</span> <span class="token operator">=&gt;</span> n <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">normalize</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>coords<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> length<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; [0, 0.4, 0.6]</span>
</pre><p>This wouldn&apos;t have worked if we used <em>function</em> keyword in the arguments of map</p>
<h4 class="mume-header" id="prototypes">Prototypes</h4>

<p>In addition to an object&apos;s set of properties, most objects have a <em>prototype</em>. It is essentially another object that is used as a &quot;fallback source of properties.&quot; Lets break it down:</p>
<ul>
<li>A prototype of an object is searched for a property IF it gets a request for a property it <strong>does not</strong> have, then the prototype&apos;s prototype and so on...</li>
<li>The prototype of an empty object is <em>Object.prototype</em>, see below:</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// getPrototypeOf returns the prototype of an object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">==</span>
          <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; null</span>
</pre><ul>
<li><em>Object.prototype</em> is at the root of the tree-shaped structure of JS Objects. It provides a few methods to show up in all objects such as: <em>toString</em> (converts object to string representation)</li>
<li>Functions derive from <em>Function.prototype</em> and arrays derive from <em>Array.prototype</em> (shows that <strong>not</strong> all objects have Object.prototype as their prototype directly), see below:</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>max<span class="token punctuation">)</span> <span class="token operator">==</span>
          <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span>
          <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
</pre><p>We can use <em>Object.create</em> to create an object WITH a specific <strong>prototype</strong>:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> protoRabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token comment">// Object with speak method</span>
<span class="token function">speak</span><span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`The </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> rabbit says &apos;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>line<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&apos;`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// protoRabbit is the prototype object</span>
<span class="token keyword">let</span> killerRabbit <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>protoRabbit<span class="token punctuation">)</span><span class="token punctuation">;</span>
killerRabbit<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;killer&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// Access &apos;speak&apos; prototype</span>
killerRabbit<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token string">&quot;SKREEEE!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; The killer rabbit says &apos;SKREEEE!&apos;</span>
</pre><p>Analysis:</p>
<ul>
<li>As seen above, protoRabbit acts as a container for the properties shared by ALL rabbits</li>
<li>The individual &apos;killerRabbit&apos; object contains properties only applicable to itself i.e. its type.</li>
</ul>
<h4 class="mume-header" id="classes">Classes</h4>

<p>JS&apos;s prototype system can be interpreted as a somewhat informal take on <em>classes</em>, a class define the shape of an object i.e. what methods and properties it has, this type of object is called an <strong>instance</strong> of a <em>class</em></p>
<p>Consider these <em>instances</em> of a class:</p>
<ul>
<li><strong>Prototypes</strong> are useful in defining <strong>properties</strong> for which all <em>instances</em> of class share the same value, such as methods.</li>
<li>To create an instance of a given class, you have to make an object that derives from the proper prototype but also make sure itself has properites that instances of this class are <em>supposed to have</em>, done via a <em>constructor</em> function.</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">function</span> <span class="token function">makeRabbit</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// Use the &apos;create&apos; method</span>
<span class="token keyword">let</span> rabbit <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>protoRabbit<span class="token punctuation">)</span><span class="token punctuation">;</span>
rabbit<span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
<span class="token keyword">return</span> rabbit<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><ul>
<li>A constructor function can be defined easier using <em><strong>new</strong></em> keyword infront of a function call, then the function is defined as a constructor. A constructor sets up the initial state of the object</li>
<li>This means that an object with the right prototype is automatically created, bound to <em><strong>this</strong></em> in the function, and returned at the end of the function.</li>
<li>The prototype object used when constructing objects is found by taking the prototype property of the constructor function.</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Constructors are capitalized</span>
<span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Rabbit</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`The </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> rabbit says &apos;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>line<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&apos;`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// new keyword will treat Rabbit as a contructor </span>
<span class="token keyword">let</span> weirdRabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">&quot;weird&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>This example shows us adding properties to the new object. In general all functions (including constructors) automatically get a property named <em>prototype</em>, by default holds a plain, empty object derived from <em>Object.prototype</em>, we can also overwrite with a new object if we wanted to.</p>
<ul>
<li>The actual prototype of a constructor is Function.prototype, its prototype <em>property</em> holds the prototype used for instances created through it</li>
<li>Important to understand a <em>prototype</em> association with constructors and objects.</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Rabbit<span class="token punctuation">)</span> <span class="token operator">==</span>
          <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>weirdRabbit<span class="token punctuation">)</span> <span class="token operator">==</span>
          <span class="token class-name">Rabbit</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
</pre><h4 class="mume-header" id="class-notation">Class Notation</h4>

<p>JS classes are constructor functions with a prototype property. Consider the class notation equivalent to the constructor function shown previously:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Define a class</span>
<span class="token keyword">class</span> <span class="token class-name">Rabbit</span> <span class="token punctuation">{</span>
<span class="token comment">// Constructor function</span>
<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// speak method</span>
<span class="token function">speak</span><span class="token punctuation">(</span><span class="token parameter">line</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`The </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> rabbit says &apos;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>line<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&apos;`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> killerRabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">&quot;killer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> blackRabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li><em>class</em> keyword starts a class declaration which require a contructor and methods</li>
<li>Any number of methods can be defined in class declaration</li>
<li>constructor is treater specially, it provides the actual constructor function, others are packaged into that constructor&apos;s prototype.</li>
<li><em>Class</em> declarations only allow <em>methods</em> to be added to the prototype</li>
<li><em>Class</em> is used similarly to functions except in expressions, it doesn&apos;t define bindings rather produces constructor as a value.</li>
</ul>
<h4 class="mume-header" id="overriding-derived-properties">Overriding Derived Properties</h4>

<p>A property added to an object with the same name as a property in the the prototype won't affect anything as the initial property is safely tucked in the prototype Object, see example below:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token class-name">Rabbit</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>teeth <span class="token operator">=</span> <span class="token string">&quot;small&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>killerRabbit<span class="token punctuation">.</span>teeth<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; small</span>
killerRabbit<span class="token punctuation">.</span>teeth <span class="token operator">=</span> <span class="token string">&quot;long, sharp, and bloody&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>killerRabbit<span class="token punctuation">.</span>teeth<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; long, sharp, and bloody</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>blackRabbit<span class="token punctuation">.</span>teeth<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; small</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Rabbit</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>teeth<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; small</span>
</pre><p>This &apos;overriding&apos; concept is quite useful, as shown in our example, <em>overriding</em> can be used to express <strong>exceptional</strong> properties in instances of a more <em>generic</em> class of objects, while letting the nonexceptional objects take a <strong>standard</strong> value from their prototype.</p>
<p>Consider an application of this:</p>
<ul>
<li>Overriding is used to give the standard function and array prototypes a different <em>toString</em> method compared to basic object prototypes.</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString <span class="token operator">==</span>
          <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 1,2</span>
</pre><ul>
<li>Calling <em>toString()</em> on an array gives result similar to calling .join(&quot;,&quot;) (puts commas between values of array).</li>
<li>Calling <em>prototype.toString</em> with an array produces different strings as it doesn&apos;t know about arrays, it would return the following:</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; [object Array]</span>
</pre><h4 class="mume-header" id="maps">Maps</h4>

<p>A <em>map</em> (noun) is a data structure that associates values with other values, we can also use objects for this but with a slight problem:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> ages <span class="token operator">=</span> <span class="token punctuation">{</span>
Boris<span class="token punctuation">:</span> <span class="token number">39</span><span class="token punctuation">,</span>
Liang<span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
<span class="token constant">J</span>&#xFA;lia<span class="token punctuation">:</span> <span class="token number">62</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`J&#xFA;lia is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ages<span class="token punctuation">[</span><span class="token string">&quot;J&#xFA;lia&quot;</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; J&#xFA;lia is 62</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Is Jack&apos;s age known?&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jack&quot;</span> <span class="token keyword">in</span> ages<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; Is Jack&apos;s age known? false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Is toString&apos;s age known?&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;toString&quot;</span> <span class="token keyword">in</span> ages<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; Is toString&apos;s age known? true</span>
</pre><p>Analysis:<br>
In our object, we certainly did not list anybody named &apos;<em>toString</em>&apos; in our map but since objects derive from <strong>Object.prototype</strong>, it looks like the property is there. As using plain objects AS maps is dangerous, there are ways to fix this:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// 1. Pass null to Object.create which prevents resulting</span>
<span class="token comment">// object deriving from Object.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;toString&quot;</span> <span class="token keyword">in</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; false</span>

<span class="token comment">// --------------------------------------------------------</span>
<span class="token comment">// 2. Use &apos;hasOwnProperty&apos; method which ignores prototype:</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;toString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; false</span>
<span class="token comment">// ---------------------------------------------------------</span>
<span class="token comment">// 3. Use JS class called maps for any types of keys:</span>
<span class="token keyword">let</span> ages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ages<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;Boris&quot;</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ages<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;Liang&quot;</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ages<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;J&#xFA;lia&quot;</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`J&#xFA;lia is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ages<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;J&#xFA;lia&quot;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; J&#xFA;lia is 62</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Is Jack&apos;s age known?&quot;</span><span class="token punctuation">,</span> ages<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;Jack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; Is Jack&apos;s age known? false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ages<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;toString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; false</span>
</pre><p><em>Analysis</em>:</p>
<ul>
<li>The methods: set, get and has are part of the <em>interface</em> of the <em>Map</em> object</li>
</ul>
<h4 class="mume-header" id="polymorphism">Polymorphism</h4>

<p>Whenever you call the String function on an object, it will call the <em>toString</em> method on that object to create a string from it.</p>
<ul>
<li>Some of the standard <em>prototypes</em> define their own version of <em>toString</em> so they can create a string that contains more useful information than &quot;[object Object]&quot;</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token class-name">Rabbit</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token template-string"><span class="token string">`a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> rabbit`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>blackRabbit<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; a black rabbit</span>
</pre><p>When a piece of code is written to work with objects that have a certain interface&#x2014;in this case, a <em>toString</em> method&#x2014;any kind of object that happens to support this interface can be plugged into the code, and it will just work.</p>
<p>This idea is known as <em>polymorphism</em>, such <em>polymorphic</em> code can work with values of different shapes assuming supportive <em>interface</em> given. An example would be a for/of loop, looping through several kinds of data structures.</p>
<ul>
<li>Such loops expect the data structure to expose a specific <strong>interface</strong> (i.e. in arrays and strings)</li>
<li>We can also add this <em>interface</em> to your own objects too!</li>
</ul>
<h4 class="mume-header" id="symbols">Symbols</h4>

<p>It is possible for multiple interfaces to use same property names for different things, resulting in an object NOT being able to conform to both that interface and the standard use of pre-defined property name e.g. <em>toString</em></p>
<p>Property names can also be <em>symbols</em> which are values created with the <em>Symbol</em> function, unlike strings these are unique (cannot create same symbol twice)</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym <span class="token operator">==</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; false</span>
<span class="token class-name">Rabbit</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>sym<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">55</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>blackRabbit<span class="token punctuation">[</span>sym<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 55</span>
</pre><ul>
<li>The string passed in Symbol() has no meaning besides making it easier to recognize in console.</li>
<li>Symbols are suitable for making interfaces that want to live peacefully alongside other properties (no matter the name).</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> toStringSymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;toString&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>toStringSymbol<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> cm of blue yarn`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 1,2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>toStringSymbol<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 2 cm of blue yarn</span>
</pre><ul>
<li>We use square brackets around property names to include symbol properties in object expressions, this causes property name to be evaluated which allows us to refer to a binding that HOLDS a symbol</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> stringObject <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token punctuation">[</span>toStringSymbol<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;a jute rope&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringObject<span class="token punctuation">[</span>toStringSymbol<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; a jute rope</span>
</pre><h4 class="mume-header" id="the-iterator-interface">The Iterator Interface</h4>

<p>The object given to a for/of loop is expected to be iterable meaning it has a method named with the <em>Symbol.iterator symbol</em> (defined and stored as a property of the Symbol function)</p>
<p>When called, that method should return an object that provides a second interface - <em>iterator</em> which has a next method that returns the <em>next</em> result which itself should be an object with a <em>value</em> property (providing next value if exists) and a <em>done</em> property (false for no more results).</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> okIterator <span class="token operator">=</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>okIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; {value: &quot;O&quot;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>okIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; {value: &quot;K&quot;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>okIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; {value: undefined, done: true}</span>
</pre><p>Now lets implement an iterable data structure:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Matrix class acting as a two dimensional array</span>
<span class="token keyword">class</span> <span class="token class-name">Matrix</span> <span class="token punctuation">{</span>
<span class="token comment">// The constructor function takes a width, a height, and an optional element </span>
<span class="token comment">// function that will be used to fill in the initial values.</span>
<span class="token function">constructor</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token function-variable function">element</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
  <span class="token comment">// The class stores its content in a single array of width &#xD7; height elements.</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> height<span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> width<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">[</span>y <span class="token operator">*</span> width <span class="token operator">+</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">element</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// There are get and set methods to retrieve and update elements in the matrix.</span>
<span class="token keyword">get</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">[</span>y <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">+</span> x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">[</span>y <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">+</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>When looping over a <em>matrix</em>, you usually are interested in the <strong>position</strong> of th elements as well as <em>elements</em> themselves</p>
<p>Hence we&apos;ll have our iterator produce objects with <em>x, y and value</em> properties:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">MatrixIterator</span> <span class="token punctuation">{</span>
<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">matrix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Start at initial positions 0,0</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>matrix <span class="token operator">=</span> matrix<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Checks whether bottom of matrix has been reached</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matrix<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span>done<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// If it hasn&apos;t, it creates the object holding current value</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>
               y<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>
               value<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matrix<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// Updates its positions</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token comment">// Move to the next row if necessary.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matrix<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>value<span class="token punctuation">,</span> done<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Note: In this book&apos;s case, <em>methods</em> to classes (<em>prototype manipulation</em>) is added after prior related code, done for <strong>simplicity</strong>. In a regular program, there is no need to split code into small pieces, you&apos;d declare these methods directly in the class instead.<br>
Let&apos;s set <em>matrix</em> class to be iterable and loop through it:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token class-name">Matrix</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MatrixIterator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Now we can loop over the matrix with for/of</span>
<span class="token keyword">let</span> matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Matrix</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token string">`value </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> value<span class="token punctuation">}</span> <span class="token keyword">of</span> matrix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &#x2192; 0 0 value 0,0</span>
<span class="token comment">// &#x2192; 1 0 value 1,0</span>
<span class="token comment">// &#x2192; 0 1 value 0,1</span>
<span class="token comment">// &#x2192; 1 1 value 1,1</span>
</pre><h4 class="mume-header" id="getters-setters-and-statics">Getters, Setters, and Statics</h4>

<p><em>Interfaces</em> often consist mostly of <strong>methods</strong>, but it is also okay to include properties that hold non-function values. For example, Map objects have a <em>size</em> property that tells you how many <em>keys</em> are stored in them.</p>
<p>It is not necessary for an object to compute and store such a property directly in the instance. Directly accessed properties may hide a <em>method call</em> themselves. Such methods are called <em>getters</em> as they are defined by writing <em>get</em> infront of their method name.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">let</span> varyingSize <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token keyword">get</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// The associated method is called whenever someone reads</span>
<span class="token comment">// from this object&apos;s size property</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>varyingSize<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 73</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>varyingSize<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 49</span>
</pre><p>Do something similar when a property is <em>written to</em>, using a setter:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Temperature</span> <span class="token punctuation">{</span>
<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">celsius</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>celsius <span class="token operator">=</span> celsius<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">get</span> <span class="token function">fahrenheit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>celsius <span class="token operator">*</span> <span class="token number">1.8</span> <span class="token operator">+</span> <span class="token number">32</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">set</span> <span class="token function">fahrenheit</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>celsius <span class="token operator">=</span> <span class="token punctuation">(</span>value <span class="token operator">-</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1.8</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">static</span> <span class="token function">fromFahrenheit</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Temperature</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value <span class="token operator">-</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Temperature</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Read temp in degrees or fahrenheit</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>fahrenheit<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 71.6</span>
temp<span class="token punctuation">.</span>fahrenheit <span class="token operator">=</span> <span class="token number">86</span><span class="token punctuation">;</span>
<span class="token comment">// Internally only stores in celsius</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>celsius<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 30</span>
</pre><p>As shown above, the class automatically converts to and from celsius in the fahrenheit getter and setter.</p>
<p>Inside a <em>class declaration</em>, methods that have <strong>static</strong> written before their name are stored on the <em>constructor</em>. So the Temperature class allows you to write Temperature.fromFahrenheit(100) to create a temperature using degrees Fahrenheit.</p>
<h4 class="mume-header" id="inheritance">Inheritance</h4>

<p>Lets say we now need a data structure like a <em>Matrix</em> but rather symmetrical, we could write it from scratch BUT that&apos;ll repeat previous code so instead we&apos;ll do the following:</p>
<ul>
<li>Make a <em>new</em> class using JS&apos;s prototype system, which builds on the old class but with new definitions for some properties. The prototype for the new class is derived from the old BUT adds a new definition, in our case, for the set method.</li>
<li>This is known as <strong>inheritance</strong>. A new class inheriting properties and behaviour from the old class.</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// extend says class should be based of Matrix class</span>
<span class="token keyword">class</span> <span class="token class-name">SymmetricMatrix</span> <span class="token keyword">extends</span> <span class="token class-name">Matrix</span> <span class="token punctuation">{</span>
<span class="token function">constructor</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token function-variable function">element</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> size<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">element</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token function">element</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SymmetricMatrix</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matrix<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; 3,2</span>
</pre><p>Analysis:</p>
<ul>
<li><em>extend</em> keyword indicates that the class shouldn&apos;t be directly based on the default <em>Object</em> prototype but rather on some other class, this is called the <em>superclass</em> whereas the derived class (new class) is the <em>subclass</em>.</li>
<li>The constructor calls its superclass&apos;s constructor through the &apos;super&apos; keyword, this is necessary as the new object needs to behave as a matrix.</li>
<li>To ensure the matrix is symmetrical, the constructor wraps the element function to swap the coordinates for values below diagonal.</li>
<li>The set method also uses <em>super</em> but in this case it is to call a specific method from the superclass&apos;s set of methods, this.set would just refer to the <em>new</em> set method which wouldn&apos;t work.</li>
</ul>
<p><strong>Super</strong> just provides a way to call methods as they were defined in the superclass.</p>
<p>Alongside encapsulation and polymorphism, inheritance is a fundamental part of the object-oriented tradition, but is more controversial than the latter two:</p>
<ul>
<li>Inheritance ties classes together, thus creating more tangle unlike encapsulation and polymorphism.</li>
<li>When inheriting from a class, you would need some knowledge on how it works than when simply using it.</li>
</ul>
<h4 class="mume-header" id="the-instanceof-operator">The Instanceof Operator</h4>

<p>It is occasionally useful to know whether an object was derived from a specific class:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
<span class="token keyword">new</span> <span class="token class-name">SymmetricMatrix</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">SymmetricMatrix</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SymmetricMatrix</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Matrix</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Matrix</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">SymmetricMatrix</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#x2192; true</span>
</pre><ul>
<li>The operator will see through inherited types, so a <em>SymmetricMatrix</em> is an instance of <em>Matrix</em>. The operator can also be applied to standard constructors like Array. Almost every object is an instance of Object.</li>
</ul>

    </div>
  </body></html>
<!-- End chapter 6 notes-->
<!-- Start chapter 7 notes: -->
</head>
<body for="html-export">
  <div class="mume markdown-preview  ">
  <hr>
<h2 class="mume-header" id="chapter-7-project-a-robot">Chapter 7: Project: A robot</h2>

<p>This chapter&apos;s project is to build an <em>automaton</em>, a little program which performs a task in the virtual world. A mail delivery robot picking up and delivering parcels</p>
<h4 class="mume-header" id="the-project">The Project:</h4>

<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">/*    Written by Author of Eloquent Javascript and annotated by 
  Abdullah Ahmed 3rd Year Computer Science Student UNSW
*/</span>
<span class="token comment">// Roads is an array object where each element consists of 2 places seperated by a dash</span>
<span class="token keyword">var</span> roads <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token comment">// Start location-End location</span>
<span class="token string">&quot;Alice&apos;s House-Bob&apos;s House&quot;</span><span class="token punctuation">,</span>   <span class="token string">&quot;Alice&apos;s House-Cabin&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Alice&apos;s House-Post Office&quot;</span><span class="token punctuation">,</span>   <span class="token string">&quot;Bob&apos;s House-Town Hall&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Daria&apos;s House-Ernie&apos;s House&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Daria&apos;s House-Town Hall&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Ernie&apos;s House-Grete&apos;s House&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Grete&apos;s House-Farm&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Grete&apos;s House-Shop&quot;</span><span class="token punctuation">,</span>          <span class="token string">&quot;Marketplace-Farm&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Marketplace-Post Office&quot;</span><span class="token punctuation">,</span>     <span class="token string">&quot;Marketplace-Shop&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Marketplace-Town Hall&quot;</span><span class="token punctuation">,</span>       <span class="token string">&quot;Shop-Town Hall&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Takes the array: roads as edges and splits each element upon the dash</span>
<span class="token keyword">function</span> <span class="token function">buildGraph</span><span class="token punctuation">(</span><span class="token parameter">edges</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token keyword">let</span> graph <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// creates an empty object  `graph`</span>
<span class="token comment">// Function within function </span>
<span class="token keyword">function</span> <span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">from</span><span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>graph<span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// If I have no entry from that location</span>
    graph<span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// if property named same as &apos;from&apos; doesn&apos;t exist, </span>
    <span class="token comment">// create it to be an array.</span>
    graph<span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>to<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// push the value of  `to` in that array</span>

  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// If I do have an entry from that location &apos;to&apos;</span>
    
  <span class="token comment">// if property named same as &apos;from&apos; exists, push the value of &apos;to&apos; </span>
  <span class="token comment">// to the array.</span>
    graph<span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>to<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// Since roads is undirected and the datastructure we create is directed &apos;to and from&apos;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">]</span> <span class="token keyword">of</span> edges<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">road</span> <span class="token operator">=&gt;</span> road<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// We add an edge to both: start and the end allowing us to go both ways</span>
  <span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">addEdge</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> graph<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// The graph data base we create from roads</span>
<span class="token keyword">var</span> roadGraph <span class="token operator">=</span> <span class="token function">buildGraph</span><span class="token punctuation">(</span>roads<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Some theory: 
What is state? When we look at our program at the processes it is undergoing and the 
functions that are being called, all these things being manipulated and stored in 
memory is referred to as state: Consider where we are and where we go.
- If we travel somewhere else, we have modified state --&gt; new environment
- Globals store state as eveything has to store state, we cannot get rid of it
- There is a slight problem with globals as states and their behaviour of modification, 
  the scope at which they store state is removed and WE want to have control of state 
*/</span>
<span class="token comment">/*
VillageState: is a class that represents where we are and where we are going
- It has one method: move() which essentially is a function, each of which 
expects a &apos;this&apos;, e.g. in our case: this.place, this.parcels, ...
&apos;this&apos; is our state
- The constructor sets up the initial state of the object, the first function. Note:
the second we call VillageState, we&apos;re giving it a place and &apos;parcels&apos;
- Every subsequent method gets a &apos;this.&apos; that was made in the constructor
Place and Parcels: 
- We don&apos;t know what place and parcels is at the moment and we soon try to figure that out 
place: looks like its gonna be a string (as a key)
parcels: looks like an array/list because he uses the map method on it, specifically 
an array of objects (look at the return values AND the &apos;p.place&apos;)
Calling VillageState: 
Returns a new state and thus move() is seen as a pure function, it does not 
change some global state/ doesn&apos;t modify it neither is there any side effects. As such we 
keep calling and nothing changes.
- Makes program alot easier to reason about
- Makes program much more resilient to bugs
- Makes it alot slower 
*/</span>
<span class="token keyword">var</span> VillageState <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">VillageState</span> <span class="token punctuation">{</span>
<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">place<span class="token punctuation">,</span> parcels</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>place <span class="token operator">=</span> place<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>parcels <span class="token operator">=</span> parcels<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter">destination</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>roadGraph<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>place<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>destination<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// p = parcel</span>
    <span class="token keyword">let</span> parcels <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parcels<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>place <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>place<span class="token punctuation">)</span> <span class="token keyword">return</span> p<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>place<span class="token punctuation">:</span> destination<span class="token punctuation">,</span> address<span class="token punctuation">:</span> p<span class="token punctuation">.</span>address<span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>place <span class="token operator">!=</span> p<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">VillageState</span><span class="token punctuation">(</span>destination<span class="token punctuation">,</span> parcels<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
Usage:
let first = new VillageState(
&quot;Post Office&quot;,
[{place: &quot;Post Office&quot;, address: &quot;Alice&apos;s House&quot;}]
);
let next = first.move(&quot;Alice&apos;s House&quot;);

console.log(next.place);
// &#x2192; Alice&apos;s House
console.log(next.parcels);
// &#x2192; []
console.log(first.place);
// &#x2192; Post Office
*/</span>

<span class="token comment">/*
runRobot(): --&gt; We need to know what the 3 parameters mean 
- memory: memory is the state of the robot, history of what it knows and has done 
- state: state is VillageState, the state of the virtual world, how do we know this?
  We are shown state = state.move() which is a dead giveaway that state --&gt; villageState
- robot: is some function that returns an object (defined as action) given state 
  and memory
- In our function, the method, &apos;move&apos; returns a whole new object
*/</span>
<span class="token keyword">function</span> <span class="token function">runRobot</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> robot<span class="token punctuation">,</span> memory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> turn <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">;</span> turn<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>parcels<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Done in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>turn<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> turns`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> action <span class="token operator">=</span> <span class="token function">robot</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> memory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  state <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>direction<span class="token punctuation">)</span><span class="token punctuation">;</span>
  memory <span class="token operator">=</span> action<span class="token punctuation">.</span>memory<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Moved to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>action<span class="token punctuation">.</span>direction<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Pretty self explanatory function here: 
- randomPick() takes an array and returns a random element in the array
- The index of this element is denoted by choice
- random() gives a random decimal between 0 - inclusive and 1 exclusive
- * array.length increases the ceiling, larger range
*/</span>
<span class="token keyword">function</span> <span class="token function">randomPick</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">let</span> choice <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> array<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> array<span class="token punctuation">[</span>choice<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
Remember: roadGraph was our graph generated from the roads which consists of a 
place as a key and an array of addresses we can get to from it. In our case, we use:
state.place and state.addresses.
- randomRobot returns an object with a random direction by calling randomPick()
- randomRobot() takes a VillageState as the parameter
- state.place is the state we&apos;re currently at
*/</span>
<span class="token keyword">function</span> <span class="token function">randomRobot</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span>direction<span class="token punctuation">:</span> <span class="token function">randomPick</span><span class="token punctuation">(</span>roadGraph<span class="token punctuation">[</span>state<span class="token punctuation">.</span>place<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
VillageState.random takes a parcel count, if none given, it assumes 5 given
- Whatever number you pick, it will call &apos;randomPick(Object.keys(roadGraph))&apos;
- Object.keys generates a list of keys of given object, randomly with randomPick
- In the do/while loop: It says that if we generated equal values for both place 
  and address, generate another one. (We don&apos;t want the robot to pick up and drop off
  a parcel at the same house) - solved an edge case.
- We create a new parcel object with the place and address and push it to list of 
    parcels
- We return a new VillageState that starts off at the post office and a list of
  however many parcels we give it, each of which include a place where we pick them 
  up and drop them off
- We would rather call these tasks, as there are 5 things to do contrastingly to &apos;parcels&apos;
  which obscure our way of thinking and deem them as nouns. We could also do with replacing
  place as pick-up and address as drop-off

USAGE: runRobot(VillageState.random(), randomRobot);
*/</span>
VillageState<span class="token punctuation">.</span><span class="token function-variable function">random</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">parcelCount <span class="token operator">=</span> <span class="token number">5</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">let</span> parcels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> parcelCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> address <span class="token operator">=</span> <span class="token function">randomPick</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>roadGraph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> place<span class="token punctuation">;</span>
  <span class="token keyword">do</span> <span class="token punctuation">{</span>
    place <span class="token operator">=</span> <span class="token function">randomPick</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>roadGraph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>place <span class="token operator">==</span> address<span class="token punctuation">)</span><span class="token punctuation">;</span>
  parcels<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>place<span class="token punctuation">,</span> address<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">VillageState</span><span class="token punctuation">(</span><span class="token string">&quot;Post Office&quot;</span><span class="token punctuation">,</span> parcels<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/*
Define a constant mailRoute as opposed to a random route generated by prior functions
*/</span>
<span class="token keyword">var</span> mailRoute <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token string">&quot;Alice&apos;s House&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cabin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Alice&apos;s House&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&apos;s House&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Town Hall&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Daria&apos;s House&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Ernie&apos;s House&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Grete&apos;s House&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Shop&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Grete&apos;s House&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Farm&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Marketplace&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Post Office&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">/*
routeRobot() is a function which takes a villageState and memory: a list of locations
the robot needs to visit, in this function, if it isn&apos;t given/null we assume it to be
&apos;mailRoute&apos;. It returns an object which tells us the new place and slices previous one off
USAGE: runRobot(VillageState.random(), routeRobot, []);
*/</span>
<span class="token keyword">function</span> <span class="token function">routeRobot</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> memory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>memory<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  memory <span class="token operator">=</span> mailRoute<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span>direction<span class="token punctuation">:</span> memory<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> memory<span class="token punctuation">:</span> memory<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* You don&apos;t have to understand this code as ot delves more into the depths of 
datastructures and algorithms - graph theory:
findRoute: Where am I? And where do I need to go to?
- Adds all possibilities of every way it can get away from where it is. 
- Every one of those states, it adds where it can go to from there, etc. 
- As it adds these steps 1 at a time, as soon as it finds a possivility that satsifies 
  all the conditions of hitting all the places it was going to; it stops 
- Alot of the possibilities in the future are not considered
*/</span> 
<span class="token keyword">function</span> <span class="token function">findRoute</span><span class="token punctuation">(</span><span class="token parameter">graph<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// A list of objects which starts with a location given as: from, and </span>
<span class="token comment">// initialise an empty route</span>
<span class="token keyword">let</span> work <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>at<span class="token punctuation">:</span> <span class="token keyword">from</span><span class="token punctuation">,</span> route<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// Consider till the end of &apos;work&apos; list </span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> work<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Create an object at instance of current element of work</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span>at<span class="token punctuation">,</span> route<span class="token punctuation">}</span> <span class="token operator">=</span> work<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// Take the graph&apos;s current place </span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> place <span class="token keyword">of</span> graph<span class="token punctuation">[</span>at<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// if that current place is equal to the destination &apos;to&apos;, return route list with</span>
    <span class="token comment">// additional element: place (being the final)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>place <span class="token operator">==</span> to<span class="token punctuation">)</span> <span class="token keyword">return</span> route<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>place<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Otherwise we haven&apos;t reached final yet</span>
    <span class="token comment">// Non-backtracking: Makes sure the places it has visited won&apos;t appear again</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>work<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">w</span> <span class="token operator">=&gt;</span> w<span class="token punctuation">.</span>at <span class="token operator">==</span> place<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Increase the work array with new object element </span>
      work<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>at<span class="token punctuation">:</span> place<span class="token punctuation">,</span> route<span class="token punctuation">:</span> route<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>place<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
this function takes a village Object
*/</span>
<span class="token keyword">function</span> <span class="token function">goalOrientedRobot</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>place<span class="token punctuation">,</span> parcels<span class="token punctuation">}</span><span class="token punctuation">,</span> route</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>route<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> parcel <span class="token operator">=</span> parcels<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>parcel<span class="token punctuation">.</span>place <span class="token operator">!=</span> place<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    route <span class="token operator">=</span> <span class="token function">findRoute</span><span class="token punctuation">(</span>roadGraph<span class="token punctuation">,</span> place<span class="token punctuation">,</span> parcel<span class="token punctuation">.</span>place<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    route <span class="token operator">=</span> <span class="token function">findRoute</span><span class="token punctuation">(</span>roadGraph<span class="token punctuation">,</span> place<span class="token punctuation">,</span> parcel<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span>direction<span class="token punctuation">:</span> route<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> memory<span class="token punctuation">:</span> route<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
  </div>
</body></html>
<!-- End chapter 7 notes-->
<!-- Start chapter 8 notes-->

<!-- END CHP 8 NOTES-->
<!-- START CHP 9 Notes-->
    </div>
  </body></html>

      <hr>
      <div class="footer">
        <div class="table">
          <ul id="horizontal-list">
            <li><a href="https://www.youtube.com/" class="fa fa-youtube"></a></li>
            <li><a href="https://www.reddit.com/r/cscareerquestions/" class="fa fa-reddit"></a></li>
            <li><a href="https://github.com/abdullah527382" class="fa fa-github"></a></li>
          </ul>
        </div>
      </div>

    </div>
  
  </body>



    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <!-- https://www.youtube.com/watch?v=mQaJhQCBwUo -->
    <!-- 
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../assets/js/vendor/jquery.slim.min.js"><\/script>')</script><script src="../assets/dist/js/bootstrap.bundle.min.js"></script> -->

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../assets/js/vendor/jquery.slim.min.js"><\/script>')</script><script src="../assets/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/prism-whitespace.js"></script>

</html>